{"map":"{\"version\":3,\"sources\":[\"app.c413076186c968e77509.hot-update.js\"],\"names\":[\"webpackHotUpdate\",\"./src/api/http.js\",\"module\",\"__webpack_exports__\",\"__webpack_require__\",\"eval\"],\"mappings\":\"AAAAA,iBAAiB,MAAM,CAEjBC;;;;gCAKA,SAAUC,OAAQC,oBAAqBC,qBAE7C,aACAC,KAAK\"}","code":"webpackHotUpdate(\"app\",{\"./src/api/http.js\":\n/*!*************************!*\\\n  !*** ./src/api/http.js ***!\n  \\*************************/\n/*! exports provided: default */function(module,__webpack_exports__,__webpack_require__){\"use strict\";eval('__webpack_require__.r(__webpack_exports__);\\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return Http; });\\n/* harmony import */ var element_ui_lib_theme_chalk_notification_css__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! element-ui/lib/theme-chalk/notification.css */ \"./node_modules/element-ui/lib/theme-chalk/notification.css\");\\n/* harmony import */ var element_ui_lib_theme_chalk_notification_css__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(element_ui_lib_theme_chalk_notification_css__WEBPACK_IMPORTED_MODULE_0__);\\n/* harmony import */ var element_ui_lib_theme_chalk_base_css__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! element-ui/lib/theme-chalk/base.css */ \"./node_modules/element-ui/lib/theme-chalk/base.css\");\\n/* harmony import */ var element_ui_lib_theme_chalk_base_css__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(element_ui_lib_theme_chalk_base_css__WEBPACK_IMPORTED_MODULE_1__);\\n/* harmony import */ var element_ui_lib_notification__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! element-ui/lib/notification */ \"./node_modules/element-ui/lib/notification.js\");\\n/* harmony import */ var element_ui_lib_notification__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(element_ui_lib_notification__WEBPACK_IMPORTED_MODULE_2__);\\n/* harmony import */ var D_vue_blog_vue_blog_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./node_modules/@babel/runtime/helpers/esm/asyncToGenerator */ \"./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\");\\n/* harmony import */ var regenerator_runtime_runtime_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! regenerator-runtime/runtime.js */ \"./node_modules/regenerator-runtime/runtime.js\");\\n/* harmony import */ var regenerator_runtime_runtime_js__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(regenerator_runtime_runtime_js__WEBPACK_IMPORTED_MODULE_4__);\\n/* harmony import */ var core_js_modules_es_regexp_exec_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! core-js/modules/es.regexp.exec.js */ \"./node_modules/core-js/modules/es.regexp.exec.js\");\\n/* harmony import */ var core_js_modules_es_regexp_exec_js__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_regexp_exec_js__WEBPACK_IMPORTED_MODULE_5__);\\n/* harmony import */ var core_js_modules_es_string_match_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! core-js/modules/es.string.match.js */ \"./node_modules/core-js/modules/es.string.match.js\");\\n/* harmony import */ var core_js_modules_es_string_match_js__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_string_match_js__WEBPACK_IMPORTED_MODULE_6__);\\n/* harmony import */ var core_js_modules_es_string_replace_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! core-js/modules/es.string.replace.js */ \"./node_modules/core-js/modules/es.string.replace.js\");\\n/* harmony import */ var core_js_modules_es_string_replace_js__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_string_replace_js__WEBPACK_IMPORTED_MODULE_7__);\\n/* harmony import */ var core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"./node_modules/core-js/modules/es.object.to-string.js\");\\n/* harmony import */ var core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_8__);\\n/* harmony import */ var _api_common__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @/api/common */ \"./src/api/common.js\");\\n/* harmony import */ var store__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! store */ \"./node_modules/store/dist/store.legacy.js\");\\n/* harmony import */ var store__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(store__WEBPACK_IMPORTED_MODULE_10__);\\n/* harmony import */ var _config_api_config__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @/config/api.config */ \"./src/config/api.config.js\");\\n/* harmony import */ var _util_encrypt__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @/util/encrypt */ \"./src/util/encrypt.js\");\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\nfunction Http(_x) {\\n  return _Http.apply(this, arguments);\\n}\\n\\nfunction _Http() {\\n  _Http = Object(D_vue_blog_vue_blog_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_3__[\"default\"])( /*#__PURE__*/regeneratorRuntime.mark(function _callee(_ref) {\\n    var type, data, params, _API_LIST$type, url, method, _API_LIST$type$rsaKey, rsaKey, _API_LIST$type$setTok, setToken, _API_LIST$type$noMess, noMessage, _API_LIST$type$rest, rest, restSymbol, result, token, uid, message;\\n\\n    return regeneratorRuntime.wrap(function _callee$(_context) {\\n      while (1) {\\n        switch (_context.prev = _context.next) {\\n          case 0:\\n            type = _ref.type, data = _ref.data, params = _ref.params;\\n\\n            if (type in _config_api_config__WEBPACK_IMPORTED_MODULE_11__[\"default\"]) {\\n              _context.next = 3;\\n              break;\\n            }\\n\\n            throw new Error(\\'API请求错误\\');\\n\\n          case 3:\\n            _API_LIST$type = _config_api_config__WEBPACK_IMPORTED_MODULE_11__[\"default\"][type], url = _API_LIST$type.url, method = _API_LIST$type.method, _API_LIST$type$rsaKey = _API_LIST$type.rsaKey, rsaKey = _API_LIST$type$rsaKey === void 0 ? false : _API_LIST$type$rsaKey, _API_LIST$type$setTok = _API_LIST$type.setToken, setToken = _API_LIST$type$setTok === void 0 ? false : _API_LIST$type$setTok, _API_LIST$type$noMess = _API_LIST$type.noMessage, noMessage = _API_LIST$type$noMess === void 0 ? false : _API_LIST$type$noMess, _API_LIST$type$rest = _API_LIST$type.rest, rest = _API_LIST$type$rest === void 0 ? false : _API_LIST$type$rest;\\n            _context.prev = 4;\\n            method = method.toLowerCase();\\n\\n            if (!(rsaKey && data[rsaKey])) {\\n              _context.next = 10;\\n              break;\\n            }\\n\\n            _context.next = 9;\\n            return Object(_util_encrypt__WEBPACK_IMPORTED_MODULE_12__[\"default\"])(data[rsaKey]);\\n\\n          case 9:\\n            data[rsaKey] = _context.sent;\\n\\n          case 10:\\n            if (rest) {\\n              // :id , :classify  ....\\n              restSymbol = url.match(/:(.*)$/)[1];\\n              url = url.replace(/:(.*)$/, data[restSymbol]);\\n            }\\n\\n            data = method === \\'get\\' ? {\\n              params: data\\n            } : data;\\n            _context.next = 14;\\n            return _api_common__WEBPACK_IMPORTED_MODULE_9__[\"default\"][method](url, data, {\\n              params: params\\n            });\\n\\n          case 14:\\n            result = _context.sent;\\n\\n            if (setToken) {\\n              token = result.token;\\n              uid = result.userId;\\n              localStorage.setItem(\\'uid\\');\\n              store__WEBPACK_IMPORTED_MODULE_10___default.a.set(\\'uid\\', uid); //本地存储token\\n\\n              store__WEBPACK_IMPORTED_MODULE_10___default.a.set(\"ua_jot\", token);\\n              this.$store.dispatch(\\'login\\');\\n            }\\n\\n            return _context.abrupt(\"return\", result);\\n\\n          case 19:\\n            _context.prev = 19;\\n            _context.t0 = _context[\"catch\"](4);\\n            console.log(_context.t0);\\n\\n            if (_context.t0.response) {\\n              message = _context.t0.response.data.message;\\n\\n              if (!noMessage) {\\n                element_ui_lib_notification__WEBPACK_IMPORTED_MODULE_2___default.a.error({\\n                  title: \\'错误\\',\\n                  message: message\\n                });\\n              }\\n            }\\n\\n            return _context.abrupt(\"return\", Promise.reject(_context.t0));\\n\\n          case 24:\\n          case \"end\":\\n            return _context.stop();\\n        }\\n      }\\n    }, _callee, this, [[4, 19]]);\\n  }));\\n  return _Http.apply(this, arguments);\\n}//# sourceURL=[module]\\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvYXBpL2h0dHAuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvYXBpL2h0dHAuanM/YzFmYiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgaW5zdGFuY2UgZnJvbSAnQC9hcGkvY29tbW9uJ1xyXG5pbXBvcnQgc3RvcmUgZnJvbSBcInN0b3JlXCJcclxuaW1wb3J0IEFQSV9MSVNUIGZyb20gJ0AvY29uZmlnL2FwaS5jb25maWcnXHJcbmltcG9ydCBlbmNyeXB0ICBmcm9tICdAL3V0aWwvZW5jcnlwdCdcclxuXHJcbmltcG9ydCB7IE5vdGlmaWNhdGlvbiB9IGZyb20gJ2VsZW1lbnQtdWknXHJcblxyXG5cclxuZXhwb3J0IGRlZmF1bHQgYXN5bmMgZnVuY3Rpb24gSHR0cCh7IHR5cGUsIGRhdGEsIHBhcmFtcyB9KSB7XHJcbiAgaWYgKCEodHlwZSBpbiBBUElfTElTVCkpIHtcclxuICAgIHRocm93IG5ldyBFcnJvcignQVBJ6K+35rGC6ZSZ6K+vJylcclxuICB9XHJcbiAgbGV0IHsgdXJsLCBtZXRob2QsICByc2FLZXkgPSBmYWxzZSwgc2V0VG9rZW4gPSBmYWxzZSwgbm9NZXNzYWdlID0gZmFsc2UsIHJlc3QgPSBmYWxzZSB9ID0gQVBJX0xJU1RbdHlwZV1cclxuICB0cnkge1xyXG4gICAgbWV0aG9kID0gbWV0aG9kLnRvTG93ZXJDYXNlKClcclxuICAgIGlmIChyc2FLZXkgJiYgZGF0YVtyc2FLZXldKSB7XHJcbiAgICAgIGRhdGFbcnNhS2V5XSA9IGF3YWl0IGVuY3J5cHQoZGF0YVtyc2FLZXldKVxyXG4gICAgfVxyXG4gICAgaWYgKHJlc3QpIHtcclxuICAgICAgLy8gOmlkICwgOmNsYXNzaWZ5ICAuLi4uXHJcbiAgICAgIGxldCByZXN0U3ltYm9sID0gdXJsLm1hdGNoKC86KC4qKSQvKVsxXVxyXG4gICAgICB1cmwgPSB1cmwucmVwbGFjZSgvOiguKikkLywgZGF0YVtyZXN0U3ltYm9sXSlcclxuICAgIH1cclxuICAgIGRhdGEgPSBtZXRob2QgPT09ICdnZXQnID8geyBwYXJhbXM6IGRhdGEgfSA6IGRhdGFcclxuICAgIGxldCByZXN1bHQgPSBhd2FpdCBpbnN0YW5jZVttZXRob2RdKHVybCwgZGF0YSwgeyBwYXJhbXMgfSlcclxuICAgIGlmIChzZXRUb2tlbikge1xyXG4gICAgICBsZXQgdG9rZW4gPSByZXN1bHQudG9rZW47XHJcbiAgICAgIGxldCB1aWQgPSByZXN1bHQudXNlcklkXHJcbiAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCd1aWQnKVxyXG4gICAgICBzdG9yZS5zZXQoJ3VpZCcsIHVpZClcclxuICAgICAgLy/mnKzlnLDlrZjlgqh0b2tlblxyXG4gICAgICBzdG9yZS5zZXQocHJvY2Vzcy5lbnYuVlVFX0FQUF9UT0tFTl9OQU1FLCB0b2tlbilcclxuICAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goJ2xvZ2luJylcclxuICAgIH1cclxuICAgIHJldHVybiByZXN1bHRcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgY29uc29sZS5sb2coZXJyb3IpO1xyXG4gICAgaWYgKGVycm9yLnJlc3BvbnNlKSB7XHJcbiAgICAgIGxldCBtZXNzYWdlID0gZXJyb3IucmVzcG9uc2UuZGF0YS5tZXNzYWdlXHJcbiAgICAgIGlmICghbm9NZXNzYWdlKSB7XHJcbiAgICAgICAgTm90aWZpY2F0aW9uLmVycm9yKHtcclxuICAgICAgICAgIHRpdGxlOiAn6ZSZ6K+vJyxcclxuICAgICAgICAgIG1lc3NhZ2VcclxuICAgICAgICB9KVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoZXJyb3IpO1xyXG4gIH1cclxufSJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFLQTtBQUFBO0FBQUE7QUFDQTs7QUFEQTtBQUFBO0FBQ0E7QUFEQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFEQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBREE7QUFDQTtBQURBO0FBQUE7QUFBQTtBQU1BO0FBQ0E7QUFQQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBREE7QUFBQTtBQUNBO0FBREE7QUFRQTtBQUNBO0FBVEE7QUFVQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFmQTtBQUFBO0FBZ0JBO0FBQUE7QUFDQTtBQWpCQTtBQWdCQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUExQkE7QUFDQTtBQURBO0FBQUE7QUFBQTtBQTRCQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFGQTtBQUlBO0FBQ0E7QUFDQTtBQXRDQTtBQUNBO0FBREE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0EiLCJzb3VyY2VSb290IjoiIn0=\\n//# sourceURL=webpack-internal:///./src/api/http.js\\n')}});","extractedComments":[]}