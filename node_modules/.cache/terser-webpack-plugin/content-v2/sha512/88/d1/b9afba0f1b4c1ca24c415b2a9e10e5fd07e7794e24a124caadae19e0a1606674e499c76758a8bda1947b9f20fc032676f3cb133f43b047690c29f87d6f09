{"map":"{\"version\":3,\"sources\":[\"app.d64b91a856ea47f20794.hot-update.js\"],\"names\":[\"webpackHotUpdate\",\"./src/store/modules/likes.js\",\"module\",\"__webpack_exports__\",\"__webpack_require__\",\"eval\"],\"mappings\":\"AAAAA,iBAAiB,MAAM,CAEjBC;;;;gCAKA,SAAUC,OAAQC,oBAAqBC,qBAE7C,aACAC,KAAK\"}","code":"webpackHotUpdate(\"app\",{\"./src/store/modules/likes.js\":\n/*!************************************!*\\\n  !*** ./src/store/modules/likes.js ***!\n  \\************************************/\n/*! exports provided: default */function(module,__webpack_exports__,__webpack_require__){\"use strict\";eval('__webpack_require__.r(__webpack_exports__);\\n/* harmony import */ var D_vue_blog_vue_blog_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./node_modules/@babel/runtime/helpers/esm/asyncToGenerator */ \"./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\");\\n/* harmony import */ var regenerator_runtime_runtime_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! regenerator-runtime/runtime.js */ \"./node_modules/regenerator-runtime/runtime.js\");\\n/* harmony import */ var regenerator_runtime_runtime_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(regenerator_runtime_runtime_js__WEBPACK_IMPORTED_MODULE_1__);\\n/* harmony import */ var core_js_modules_es_array_includes_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! core-js/modules/es.array.includes.js */ \"./node_modules/core-js/modules/es.array.includes.js\");\\n/* harmony import */ var core_js_modules_es_array_includes_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_array_includes_js__WEBPACK_IMPORTED_MODULE_2__);\\n/* harmony import */ var core_js_modules_es_string_includes_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! core-js/modules/es.string.includes.js */ \"./node_modules/core-js/modules/es.string.includes.js\");\\n/* harmony import */ var core_js_modules_es_string_includes_js__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_string_includes_js__WEBPACK_IMPORTED_MODULE_3__);\\n/* harmony import */ var core_js_modules_es_array_splice_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! core-js/modules/es.array.splice.js */ \"./node_modules/core-js/modules/es.array.splice.js\");\\n/* harmony import */ var core_js_modules_es_array_splice_js__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_array_splice_js__WEBPACK_IMPORTED_MODULE_4__);\\n/* harmony import */ var store__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! store */ \"./node_modules/store/dist/store.legacy.js\");\\n/* harmony import */ var store__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(store__WEBPACK_IMPORTED_MODULE_5__);\\n/* harmony import */ var vue__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! vue */ \"vue\");\\n/* harmony import */ var vue__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(vue__WEBPACK_IMPORTED_MODULE_6__);\\n\\n\\n\\n\\n\\n\\n\\nvar LIKES_NAME = \"ua_likes\";\\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\\n  namespaced: true,\\n  state: {\\n    likes: store__WEBPACK_IMPORTED_MODULE_5___default.a.get(LIKES_NAME)\\n  },\\n  getters: {\\n    hadLike: function hadLike(state) {\\n      return function (aid) {\\n        console.log(aid);\\n        return !!state.likes.includes(aid);\\n      };\\n    }\\n  },\\n  mutations: {\\n    CHANGE_LIKES: function CHANGE_LIKES(state) {\\n      state.likes = store__WEBPACK_IMPORTED_MODULE_5___default.a.get(LIKES_NAME);\\n    }\\n  },\\n  actions: {\\n    pushLikes: function pushLikes(_ref, payload) {\\n      var commit = _ref.commit;\\n      var aid = payload.aid;\\n\\n      if (aid) {\\n        var localLikes = store__WEBPACK_IMPORTED_MODULE_5___default.a.get(LIKES_NAME) || [];\\n        var idx = localLikes.indexOf(aid);\\n\\n        if (idx === -1) {\\n          localLikes.push(aid);\\n        }\\n\\n        store__WEBPACK_IMPORTED_MODULE_5___default.a.set(LIKES_NAME, localLikes);\\n        commit(\\'CHANGE_LIKES\\');\\n      }\\n    },\\n    pullLikes: function pullLikes(_ref2, payload) {\\n      var commit = _ref2.commit;\\n      var aid = payload.aid;\\n      console.log(aid);\\n\\n      if (aid) {\\n        var localLikes = store__WEBPACK_IMPORTED_MODULE_5___default.a.get(LIKES_NAME) || [];\\n        var idx = localLikes.indexOf(aid);\\n\\n        if (idx !== -1) {\\n          localLikes.splice(idx, 1);\\n        }\\n\\n        store__WEBPACK_IMPORTED_MODULE_5___default.a.set(LIKES_NAME, localLikes);\\n        console.log(localLikes);\\n        commit(\\'CHANGE_LIKES\\');\\n      }\\n    },\\n    updateLikes: function updateLikes(_ref3, _ref4) {\\n      return Object(D_vue_blog_vue_blog_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__[\"default\"])( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\\n        var state, aid;\\n        return regeneratorRuntime.wrap(function _callee$(_context) {\\n          while (1) {\\n            switch (_context.prev = _context.next) {\\n              case 0:\\n                state = _ref3.state;\\n                aid = _ref4.aid;\\n                console.log(state);\\n                vue__WEBPACK_IMPORTED_MODULE_6___default.a.prototype.$api({\\n                  type: \\'articleLikes\\',\\n                  data: {\\n                    id: aid\\n                  }\\n                });\\n\\n              case 4:\\n              case \"end\":\\n                return _context.stop();\\n            }\\n          }\\n        }, _callee);\\n      }))();\\n    }\\n  },\\n  modules: {}\\n});//# sourceURL=[module]\\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvc3RvcmUvbW9kdWxlcy9saWtlcy5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9zdG9yZS9tb2R1bGVzL2xpa2VzLmpzPzlmZjYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHN0b3JlIGZyb20gJ3N0b3JlJ1xyXG5pbXBvcnQgVnVlIGZyb20gJ3Z1ZSdcclxuY29uc3QgTElLRVNfTkFNRSA9IHByb2Nlc3MuZW52LlZVRV9BUFBfTElLRVNfTkFNRVxyXG5leHBvcnQgZGVmYXVsdHtcclxuICBuYW1lc3BhY2VkOiB0cnVlLFxyXG4gIHN0YXRlOiB7XHJcbiAgICBsaWtlczpzdG9yZS5nZXQoTElLRVNfTkFNRSkgXHJcbiAgfSxcclxuICBnZXR0ZXJzOntcclxuICAgIGhhZExpa2U6c3RhdGU9PihhaWQpPT57XHJcbiAgICAgIGNvbnNvbGUubG9nKGFpZCk7XHJcbiAgICAgIHJldHVybiAhIShzdGF0ZS5saWtlcy5pbmNsdWRlcyhhaWQpKVxyXG4gICAgfVxyXG4gIH0sXHJcbiAgbXV0YXRpb25zOiB7XHJcbiAgICBDSEFOR0VfTElLRVMoc3RhdGUpe1xyXG4gICAgICBzdGF0ZS5saWtlcyA9IHN0b3JlLmdldChMSUtFU19OQU1FKVxyXG4gICAgfVxyXG4gIH0sXHJcbiAgYWN0aW9uczoge1xyXG4gICAgcHVzaExpa2VzKHtjb21taXR9LHBheWxvYWQpe1xyXG4gICAgICBsZXQgeyBhaWQgfSA9IHBheWxvYWRcclxuICAgICAgaWYgKGFpZCkge1xyXG4gICAgICAgIGxldCBsb2NhbExpa2VzID0gc3RvcmUuZ2V0KExJS0VTX05BTUUpIHx8IFtdXHJcbiAgICAgICAgbGV0IGlkeCA9IGxvY2FsTGlrZXMuaW5kZXhPZihhaWQpXHJcbiAgICAgICAgaWYgKGlkeCA9PT0gLTEpIHtcclxuICAgICAgICAgIGxvY2FsTGlrZXMucHVzaChhaWQpXHJcbiAgICAgICAgfVxyXG4gICAgICAgIHN0b3JlLnNldChMSUtFU19OQU1FLCBsb2NhbExpa2VzKVxyXG4gICAgICAgIGNvbW1pdCgnQ0hBTkdFX0xJS0VTJylcclxuICAgICAgfVxyXG4gICAgfSxcclxuICAgIHB1bGxMaWtlcyh7Y29tbWl0fSxwYXlsb2FkKXtcclxuICAgICAgbGV0IHsgYWlkIH0gPSBwYXlsb2FkXHJcbiAgICAgIGNvbnNvbGUubG9nKGFpZClcclxuICAgICAgaWYgKGFpZCkge1xyXG4gICAgICAgIGxldCBsb2NhbExpa2VzID0gc3RvcmUuZ2V0KExJS0VTX05BTUUpIHx8IFtdXHJcbiAgICAgICAgbGV0IGlkeCA9IGxvY2FsTGlrZXMuaW5kZXhPZihhaWQpXHJcbiAgICAgICAgaWYgKGlkeCAhPT0gLTEpIHtcclxuICAgICAgICAgIGxvY2FsTGlrZXMuc3BsaWNlKGlkeCwgMSlcclxuICAgICAgICB9XHJcbiAgICAgICAgc3RvcmUuc2V0KExJS0VTX05BTUUsIGxvY2FsTGlrZXMpXHJcbiAgICAgICAgY29uc29sZS5sb2cobG9jYWxMaWtlcylcclxuICAgICAgICBjb21taXQoJ0NIQU5HRV9MSUtFUycpXHJcbiAgICAgIH1cclxuICAgIH0sXHJcbiAgICBhc3luYyB1cGRhdGVMaWtlcyh7c3RhdGV9LHthaWR9KXtcclxuICAgICAgY29uc29sZS5sb2coc3RhdGUpO1xyXG4gICAgICBWdWUucHJvdG90eXBlLiRhcGkoe3R5cGU6J2FydGljbGVMaWtlcycsZGF0YTp7aWQ6YWlkfX0pXHJcbiAgICB9XHJcbiAgICBcclxuICB9LFxyXG4gIG1vZHVsZXM6IHtcclxuICB9XHJcbn0iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQURBO0FBR0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBSEE7QUFEQTtBQU1BO0FBQ0E7QUFDQTtBQUNBO0FBSEE7QUFLQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUhBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBR0E7QUE5QkE7QUFpQ0E7QUFqREEiLCJzb3VyY2VSb290IjoiIn0=\\n//# sourceURL=webpack-internal:///./src/store/modules/likes.js\\n')}});","extractedComments":[]}