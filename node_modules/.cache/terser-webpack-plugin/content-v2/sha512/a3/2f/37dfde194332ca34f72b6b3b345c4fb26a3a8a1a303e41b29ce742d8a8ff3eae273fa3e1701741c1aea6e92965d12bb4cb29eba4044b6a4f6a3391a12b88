{"map":"{\"version\":3,\"sources\":[\"app.60640a895ba3ba0871ba.hot-update.js\"],\"names\":[\"webpackHotUpdate\",\"./src/api/http.js\",\"module\",\"__webpack_exports__\",\"__webpack_require__\",\"eval\"],\"mappings\":\"AAAAA,iBAAiB,MAAM,CAEjBC;;;;gCAKA,SAAUC,OAAQC,oBAAqBC,qBAE7C,aACAC,KAAK\"}","code":"webpackHotUpdate(\"app\",{\"./src/api/http.js\":\n/*!*************************!*\\\n  !*** ./src/api/http.js ***!\n  \\*************************/\n/*! exports provided: default */function(module,__webpack_exports__,__webpack_require__){\"use strict\";eval('__webpack_require__.r(__webpack_exports__);\\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return Http; });\\n/* harmony import */ var element_ui_lib_theme_chalk_notification_css__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! element-ui/lib/theme-chalk/notification.css */ \"./node_modules/element-ui/lib/theme-chalk/notification.css\");\\n/* harmony import */ var element_ui_lib_theme_chalk_notification_css__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(element_ui_lib_theme_chalk_notification_css__WEBPACK_IMPORTED_MODULE_0__);\\n/* harmony import */ var element_ui_lib_theme_chalk_base_css__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! element-ui/lib/theme-chalk/base.css */ \"./node_modules/element-ui/lib/theme-chalk/base.css\");\\n/* harmony import */ var element_ui_lib_theme_chalk_base_css__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(element_ui_lib_theme_chalk_base_css__WEBPACK_IMPORTED_MODULE_1__);\\n/* harmony import */ var element_ui_lib_notification__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! element-ui/lib/notification */ \"./node_modules/element-ui/lib/notification.js\");\\n/* harmony import */ var element_ui_lib_notification__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(element_ui_lib_notification__WEBPACK_IMPORTED_MODULE_2__);\\n/* harmony import */ var D_vue_blog_vue_blog_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./node_modules/@babel/runtime/helpers/esm/asyncToGenerator */ \"./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\");\\n/* harmony import */ var regenerator_runtime_runtime_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! regenerator-runtime/runtime.js */ \"./node_modules/regenerator-runtime/runtime.js\");\\n/* harmony import */ var regenerator_runtime_runtime_js__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(regenerator_runtime_runtime_js__WEBPACK_IMPORTED_MODULE_4__);\\n/* harmony import */ var core_js_modules_es_regexp_exec_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! core-js/modules/es.regexp.exec.js */ \"./node_modules/core-js/modules/es.regexp.exec.js\");\\n/* harmony import */ var core_js_modules_es_regexp_exec_js__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_regexp_exec_js__WEBPACK_IMPORTED_MODULE_5__);\\n/* harmony import */ var core_js_modules_es_string_match_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! core-js/modules/es.string.match.js */ \"./node_modules/core-js/modules/es.string.match.js\");\\n/* harmony import */ var core_js_modules_es_string_match_js__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_string_match_js__WEBPACK_IMPORTED_MODULE_6__);\\n/* harmony import */ var core_js_modules_es_string_replace_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! core-js/modules/es.string.replace.js */ \"./node_modules/core-js/modules/es.string.replace.js\");\\n/* harmony import */ var core_js_modules_es_string_replace_js__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_string_replace_js__WEBPACK_IMPORTED_MODULE_7__);\\n/* harmony import */ var core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"./node_modules/core-js/modules/es.object.to-string.js\");\\n/* harmony import */ var core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_8__);\\n/* harmony import */ var _api_common__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @/api/common */ \"./src/api/common.js\");\\n/* harmony import */ var store__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! store */ \"./node_modules/store/dist/store.legacy.js\");\\n/* harmony import */ var store__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(store__WEBPACK_IMPORTED_MODULE_10__);\\n/* harmony import */ var _config_api_config__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @/config/api.config */ \"./src/config/api.config.js\");\\n/* harmony import */ var _util_encrypt__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @/util/encrypt */ \"./src/util/encrypt.js\");\\n/* harmony import */ var vue__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! vue */ \"vue\");\\n/* harmony import */ var vue__WEBPACK_IMPORTED_MODULE_13___default = /*#__PURE__*/__webpack_require__.n(vue__WEBPACK_IMPORTED_MODULE_13__);\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\nfunction Http(_x) {\\n  return _Http.apply(this, arguments);\\n}\\n\\nfunction _Http() {\\n  _Http = Object(D_vue_blog_vue_blog_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_3__[\"default\"])( /*#__PURE__*/regeneratorRuntime.mark(function _callee(_ref) {\\n    var type, data, params, _API_LIST$type, url, method, _API_LIST$type$rsaKey, rsaKey, _API_LIST$type$setTok, setToken, _API_LIST$type$noMess, noMessage, _API_LIST$type$rest, rest, restSymbol, result, token, uid, message;\\n\\n    return regeneratorRuntime.wrap(function _callee$(_context) {\\n      while (1) {\\n        switch (_context.prev = _context.next) {\\n          case 0:\\n            type = _ref.type, data = _ref.data, params = _ref.params;\\n\\n            if (type in _config_api_config__WEBPACK_IMPORTED_MODULE_11__[\"default\"]) {\\n              _context.next = 3;\\n              break;\\n            }\\n\\n            throw new Error(\\'API请求错误\\');\\n\\n          case 3:\\n            _API_LIST$type = _config_api_config__WEBPACK_IMPORTED_MODULE_11__[\"default\"][type], url = _API_LIST$type.url, method = _API_LIST$type.method, _API_LIST$type$rsaKey = _API_LIST$type.rsaKey, rsaKey = _API_LIST$type$rsaKey === void 0 ? false : _API_LIST$type$rsaKey, _API_LIST$type$setTok = _API_LIST$type.setToken, setToken = _API_LIST$type$setTok === void 0 ? false : _API_LIST$type$setTok, _API_LIST$type$noMess = _API_LIST$type.noMessage, noMessage = _API_LIST$type$noMess === void 0 ? false : _API_LIST$type$noMess, _API_LIST$type$rest = _API_LIST$type.rest, rest = _API_LIST$type$rest === void 0 ? false : _API_LIST$type$rest;\\n            _context.prev = 4;\\n            method = method.toLowerCase();\\n\\n            if (!(rsaKey && data[rsaKey])) {\\n              _context.next = 10;\\n              break;\\n            }\\n\\n            _context.next = 9;\\n            return Object(_util_encrypt__WEBPACK_IMPORTED_MODULE_12__[\"default\"])(data[rsaKey]);\\n\\n          case 9:\\n            data[rsaKey] = _context.sent;\\n\\n          case 10:\\n            if (rest) {\\n              // :id , :classify  ....\\n              restSymbol = url.match(/:(.*)$/)[1];\\n              url = url.replace(/:(.*)$/, data[restSymbol]);\\n            }\\n\\n            data = method === \\'get\\' ? {\\n              params: data\\n            } : data;\\n            _context.next = 14;\\n            return _api_common__WEBPACK_IMPORTED_MODULE_9__[\"default\"][method](url, data, {\\n              params: params\\n            });\\n\\n          case 14:\\n            result = _context.sent;\\n\\n            if (setToken) {\\n              token = result.token;\\n              uid = result.userId; // localStorage.setItem(\\'uid\\',uid)\\n\\n              store__WEBPACK_IMPORTED_MODULE_10___default.a.set(\\'uid\\', uid); //本地存储token\\n              // localStorage.setItem(process.env.VUE_APP_TOKEN_NAME, token)\\n\\n              store__WEBPACK_IMPORTED_MODULE_10___default.a.set(\"ua_jot\", token);\\n              this.$store.dispatch(\\'login\\');\\n            }\\n\\n            console.dir(vue__WEBPACK_IMPORTED_MODULE_13___default.a);\\n            return _context.abrupt(\"return\", result);\\n\\n          case 20:\\n            _context.prev = 20;\\n            _context.t0 = _context[\"catch\"](4);\\n\\n            if (_context.t0.response) {\\n              message = _context.t0.response.data.message;\\n\\n              if (!noMessage) {\\n                element_ui_lib_notification__WEBPACK_IMPORTED_MODULE_2___default.a.error({\\n                  title: \\'错误\\',\\n                  message: message\\n                });\\n              }\\n            }\\n\\n            return _context.abrupt(\"return\", Promise.reject(_context.t0));\\n\\n          case 24:\\n          case \"end\":\\n            return _context.stop();\\n        }\\n      }\\n    }, _callee, this, [[4, 20]]);\\n  }));\\n  return _Http.apply(this, arguments);\\n}//# sourceURL=[module]\\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvYXBpL2h0dHAuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvYXBpL2h0dHAuanM/YzFmYiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgaW5zdGFuY2UgZnJvbSAnQC9hcGkvY29tbW9uJ1xyXG5pbXBvcnQgc3RvcmUgZnJvbSBcInN0b3JlXCJcclxuaW1wb3J0IEFQSV9MSVNUIGZyb20gJ0AvY29uZmlnL2FwaS5jb25maWcnXHJcbmltcG9ydCBlbmNyeXB0IGZyb20gJ0AvdXRpbC9lbmNyeXB0J1xyXG5cclxuaW1wb3J0IHsgTm90aWZpY2F0aW9uIH0gZnJvbSAnZWxlbWVudC11aSdcclxuXHJcbmltcG9ydCBWdWUgZnJvbSAndnVlJ1xyXG5leHBvcnQgZGVmYXVsdCBhc3luYyBmdW5jdGlvbiBIdHRwICh7IHR5cGUsIGRhdGEsIHBhcmFtcyB9KSB7XHJcbiAgaWYgKCEodHlwZSBpbiBBUElfTElTVCkpIHtcclxuICAgIHRocm93IG5ldyBFcnJvcignQVBJ6K+35rGC6ZSZ6K+vJylcclxuICB9XHJcbiAgbGV0IHsgdXJsLCBtZXRob2QsIHJzYUtleSA9IGZhbHNlLCBzZXRUb2tlbiA9IGZhbHNlLCBub01lc3NhZ2UgPSBmYWxzZSwgcmVzdCA9IGZhbHNlIH0gPSBBUElfTElTVFt0eXBlXVxyXG4gIHRyeSB7XHJcbiAgICBtZXRob2QgPSBtZXRob2QudG9Mb3dlckNhc2UoKVxyXG4gICAgaWYgKHJzYUtleSAmJiBkYXRhW3JzYUtleV0pIHtcclxuICAgICAgZGF0YVtyc2FLZXldID0gYXdhaXQgZW5jcnlwdChkYXRhW3JzYUtleV0pXHJcbiAgICB9XHJcbiAgICBpZiAocmVzdCkge1xyXG4gICAgICAvLyA6aWQgLCA6Y2xhc3NpZnkgIC4uLi5cclxuICAgICAgbGV0IHJlc3RTeW1ib2wgPSB1cmwubWF0Y2goLzooLiopJC8pWzFdXHJcbiAgICAgIHVybCA9IHVybC5yZXBsYWNlKC86KC4qKSQvLCBkYXRhW3Jlc3RTeW1ib2xdKVxyXG4gICAgfVxyXG4gICAgZGF0YSA9IG1ldGhvZCA9PT0gJ2dldCcgPyB7IHBhcmFtczogZGF0YSB9IDogZGF0YVxyXG4gICAgbGV0IHJlc3VsdCA9IGF3YWl0IGluc3RhbmNlW21ldGhvZF0odXJsLCBkYXRhLCB7IHBhcmFtcyB9KVxyXG4gICAgaWYgKHNldFRva2VuKSB7XHJcbiAgICAgIGxldCB0b2tlbiA9IHJlc3VsdC50b2tlbjtcclxuICAgICAgbGV0IHVpZCA9IHJlc3VsdC51c2VySWRcclxuICAgICAgLy8gbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3VpZCcsdWlkKVxyXG4gICAgICBzdG9yZS5zZXQoJ3VpZCcsIHVpZClcclxuICAgICAgLy/mnKzlnLDlrZjlgqh0b2tlblxyXG4gICAgICAvLyBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShwcm9jZXNzLmVudi5WVUVfQVBQX1RPS0VOX05BTUUsIHRva2VuKVxyXG4gICAgICBzdG9yZS5zZXQocHJvY2Vzcy5lbnYuVlVFX0FQUF9UT0tFTl9OQU1FLCB0b2tlbilcclxuICAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goJ2xvZ2luJylcclxuICAgIH1cclxuICAgIGNvbnNvbGUuZGlyKFZ1ZSlcclxuICAgIHJldHVybiByZXN1bHRcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgaWYgKGVycm9yLnJlc3BvbnNlKSB7XHJcbiAgICAgIGxldCBtZXNzYWdlID0gZXJyb3IucmVzcG9uc2UuZGF0YS5tZXNzYWdlXHJcbiAgICAgIGlmICghbm9NZXNzYWdlKSB7XHJcbiAgICAgICAgTm90aWZpY2F0aW9uLmVycm9yKHtcclxuICAgICAgICAgIHRpdGxlOiAn6ZSZ6K+vJyxcclxuICAgICAgICAgIG1lc3NhZ2VcclxuICAgICAgICB9KVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoZXJyb3IpO1xyXG4gIH1cclxufSJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUlBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7O0FBREE7QUFBQTtBQUNBO0FBREE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBREE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQURBO0FBQ0E7QUFEQTtBQUFBO0FBQUE7QUFNQTtBQUNBO0FBUEE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQURBO0FBQUE7QUFDQTtBQURBO0FBUUE7QUFDQTtBQVRBO0FBVUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBZkE7QUFBQTtBQWdCQTtBQUFBO0FBQ0E7QUFqQkE7QUFnQkE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQTNCQTtBQUNBO0FBREE7QUFBQTtBQUFBO0FBQ0E7QUE2QkE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFGQTtBQUlBO0FBQ0E7QUFDQTtBQXZDQTtBQUNBO0FBREE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0EiLCJzb3VyY2VSb290IjoiIn0=\\n//# sourceURL=webpack-internal:///./src/api/http.js\\n')}});","extractedComments":[]}