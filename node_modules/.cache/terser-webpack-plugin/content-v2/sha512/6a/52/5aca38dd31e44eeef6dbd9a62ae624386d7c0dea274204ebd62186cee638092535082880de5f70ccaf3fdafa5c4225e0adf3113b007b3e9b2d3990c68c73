{"map":"{\"version\":3,\"sources\":[\"app.20284cb092514acee547.hot-update.js\"],\"names\":[\"webpackHotUpdate\",\"./src/store/modules/likes.js\",\"module\",\"__webpack_exports__\",\"__webpack_require__\",\"eval\"],\"mappings\":\"AAAAA,iBAAiB,MAAM,CAEjBC;;;;gCAKA,SAAUC,OAAQC,oBAAqBC,qBAE7C,aACAC,KAAK\"}","code":"webpackHotUpdate(\"app\",{\"./src/store/modules/likes.js\":\n/*!************************************!*\\\n  !*** ./src/store/modules/likes.js ***!\n  \\************************************/\n/*! exports provided: default */function(module,__webpack_exports__,__webpack_require__){\"use strict\";eval('__webpack_require__.r(__webpack_exports__);\\n/* harmony import */ var D_vue_blog_vue_blog_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./node_modules/@babel/runtime/helpers/esm/asyncToGenerator */ \"./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\");\\n/* harmony import */ var regenerator_runtime_runtime_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! regenerator-runtime/runtime.js */ \"./node_modules/regenerator-runtime/runtime.js\");\\n/* harmony import */ var regenerator_runtime_runtime_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(regenerator_runtime_runtime_js__WEBPACK_IMPORTED_MODULE_1__);\\n/* harmony import */ var core_js_modules_es_array_includes_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! core-js/modules/es.array.includes.js */ \"./node_modules/core-js/modules/es.array.includes.js\");\\n/* harmony import */ var core_js_modules_es_array_includes_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_array_includes_js__WEBPACK_IMPORTED_MODULE_2__);\\n/* harmony import */ var core_js_modules_es_string_includes_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! core-js/modules/es.string.includes.js */ \"./node_modules/core-js/modules/es.string.includes.js\");\\n/* harmony import */ var core_js_modules_es_string_includes_js__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_string_includes_js__WEBPACK_IMPORTED_MODULE_3__);\\n/* harmony import */ var core_js_modules_es_array_splice_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! core-js/modules/es.array.splice.js */ \"./node_modules/core-js/modules/es.array.splice.js\");\\n/* harmony import */ var core_js_modules_es_array_splice_js__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_array_splice_js__WEBPACK_IMPORTED_MODULE_4__);\\n/* harmony import */ var store__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! store */ \"./node_modules/store/dist/store.legacy.js\");\\n/* harmony import */ var store__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(store__WEBPACK_IMPORTED_MODULE_5__);\\n/* harmony import */ var vue__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! vue */ \"vue\");\\n/* harmony import */ var vue__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(vue__WEBPACK_IMPORTED_MODULE_6__);\\n\\n\\n\\n\\n\\n\\n\\nvar LIKES_NAME = \"ua_likes\";\\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\\n  namespaced: true,\\n  state: {\\n    likes: store__WEBPACK_IMPORTED_MODULE_5___default.a.get(LIKES_NAME)\\n  },\\n  getters: {\\n    hadLike: function hadLike(state) {\\n      return function (aid) {\\n        return !!state.likes.includes(aid);\\n      };\\n    }\\n  },\\n  mutations: {\\n    CHANGE_LIKES: function CHANGE_LIKES(state) {\\n      state.likes = store__WEBPACK_IMPORTED_MODULE_5___default.a.get(LIKES_NAME);\\n    }\\n  },\\n  actions: {\\n    pushLikes: function pushLikes(_ref, payload) {\\n      var commit = _ref.commit;\\n      var aid = payload.aid;\\n\\n      if (aid) {\\n        var localLikes = store__WEBPACK_IMPORTED_MODULE_5___default.a.get(LIKES_NAME) || [];\\n        var idx = localLikes.indexOf(aid);\\n\\n        if (idx === -1) {\\n          localLikes.push(aid);\\n        }\\n\\n        store__WEBPACK_IMPORTED_MODULE_5___default.a.set(LIKES_NAME, localLikes);\\n        commit(\\'CHANGE_LIKES\\');\\n      }\\n    },\\n    pullLikes: function pullLikes(_ref2, payload) {\\n      var commit = _ref2.commit;\\n      var aid = payload.aid;\\n\\n      if (aid) {\\n        var localLikes = store__WEBPACK_IMPORTED_MODULE_5___default.a.get(LIKES_NAME) || [];\\n        var idx = localLikes.indexOf(aid);\\n\\n        if (idx !== -1) {\\n          localLikes.splice(idx, 1);\\n        }\\n\\n        store__WEBPACK_IMPORTED_MODULE_5___default.a.set(LIKES_NAME, localLikes);\\n        commit(\\'CHANGE_LIKES\\');\\n      }\\n    },\\n    updateLikes: function updateLikes(_ref3, _ref4) {\\n      return Object(D_vue_blog_vue_blog_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__[\"default\"])( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\\n        var state, aid;\\n        return regeneratorRuntime.wrap(function _callee$(_context) {\\n          while (1) {\\n            switch (_context.prev = _context.next) {\\n              case 0:\\n                state = _ref3.state;\\n                aid = _ref4.aid;\\n                console.log(state);\\n                _context.next = 5;\\n                return vue__WEBPACK_IMPORTED_MODULE_6___default.a.prototype.$api({\\n                  type: \\'articleLikes\\',\\n                  data: {\\n                    id: aid\\n                  }\\n                });\\n\\n              case 5:\\n              case \"end\":\\n                return _context.stop();\\n            }\\n          }\\n        }, _callee);\\n      }))();\\n    }\\n  },\\n  modules: {}\\n});//# sourceURL=[module]\\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvc3RvcmUvbW9kdWxlcy9saWtlcy5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9zdG9yZS9tb2R1bGVzL2xpa2VzLmpzPzlmZjYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHN0b3JlIGZyb20gJ3N0b3JlJ1xyXG5pbXBvcnQgVnVlIGZyb20gJ3Z1ZSdcclxuY29uc3QgTElLRVNfTkFNRSA9IHByb2Nlc3MuZW52LlZVRV9BUFBfTElLRVNfTkFNRVxyXG5leHBvcnQgZGVmYXVsdCB7XHJcbiAgbmFtZXNwYWNlZDogdHJ1ZSxcclxuICBzdGF0ZToge1xyXG4gICAgbGlrZXM6IHN0b3JlLmdldChMSUtFU19OQU1FKVxyXG4gIH0sXHJcbiAgZ2V0dGVyczoge1xyXG4gICAgaGFkTGlrZTogc3RhdGUgPT4gKGFpZCkgPT4ge1xyXG4gICAgICByZXR1cm4gISEoc3RhdGUubGlrZXMuaW5jbHVkZXMoYWlkKSlcclxuICAgIH1cclxuICB9LFxyXG4gIG11dGF0aW9uczoge1xyXG4gICAgQ0hBTkdFX0xJS0VTIChzdGF0ZSkge1xyXG4gICAgICBzdGF0ZS5saWtlcyA9IHN0b3JlLmdldChMSUtFU19OQU1FKVxyXG4gICAgfVxyXG4gIH0sXHJcbiAgYWN0aW9uczoge1xyXG4gICAgcHVzaExpa2VzICh7IGNvbW1pdCB9LCBwYXlsb2FkKSB7XHJcbiAgICAgIGxldCB7IGFpZCB9ID0gcGF5bG9hZFxyXG4gICAgICBpZiAoYWlkKSB7XHJcbiAgICAgICAgbGV0IGxvY2FsTGlrZXMgPSBzdG9yZS5nZXQoTElLRVNfTkFNRSkgfHwgW11cclxuICAgICAgICBsZXQgaWR4ID0gbG9jYWxMaWtlcy5pbmRleE9mKGFpZClcclxuICAgICAgICBpZiAoaWR4ID09PSAtMSkge1xyXG4gICAgICAgICAgbG9jYWxMaWtlcy5wdXNoKGFpZClcclxuICAgICAgICB9XHJcbiAgICAgICAgc3RvcmUuc2V0KExJS0VTX05BTUUsIGxvY2FsTGlrZXMpXHJcbiAgICAgICAgY29tbWl0KCdDSEFOR0VfTElLRVMnKVxyXG4gICAgICB9XHJcbiAgICB9LFxyXG4gICAgcHVsbExpa2VzICh7IGNvbW1pdCB9LCBwYXlsb2FkKSB7XHJcbiAgICAgIGxldCB7IGFpZCB9ID0gcGF5bG9hZFxyXG4gICAgICBpZiAoYWlkKSB7XHJcbiAgICAgICAgbGV0IGxvY2FsTGlrZXMgPSBzdG9yZS5nZXQoTElLRVNfTkFNRSkgfHwgW11cclxuICAgICAgICBsZXQgaWR4ID0gbG9jYWxMaWtlcy5pbmRleE9mKGFpZClcclxuICAgICAgICBpZiAoaWR4ICE9PSAtMSkge1xyXG4gICAgICAgICAgbG9jYWxMaWtlcy5zcGxpY2UoaWR4LCAxKVxyXG4gICAgICAgIH1cclxuICAgICAgICBzdG9yZS5zZXQoTElLRVNfTkFNRSwgbG9jYWxMaWtlcylcclxuICAgICAgICBjb21taXQoJ0NIQU5HRV9MSUtFUycpXHJcbiAgICAgIH1cclxuICAgIH0sXHJcbiAgICBhc3luYyB1cGRhdGVMaWtlcyAoe3N0YXRlfSwgeyBhaWQgfSkge1xyXG4gICAgICBjb25zb2xlLmxvZyhzdGF0ZSk7XHJcbiAgICAgYXdhaXQgVnVlLnByb3RvdHlwZS4kYXBpKHsgdHlwZTogJ2FydGljbGVMaWtlcycsIGRhdGE6IHsgaWQ6IGFpZCB9IH0pXHJcbiAgICB9XHJcblxyXG4gIH0sXHJcbiAgbW9kdWxlczoge1xyXG4gIH1cclxufSJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBREE7QUFHQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBRkE7QUFEQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBSEE7QUFLQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQURBO0FBQUE7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFIQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUdBO0FBNUJBO0FBK0JBO0FBOUNBIiwic291cmNlUm9vdCI6IiJ9\\n//# sourceURL=webpack-internal:///./src/store/modules/likes.js\\n')}});","extractedComments":[]}