{"map":"{\"version\":3,\"sources\":[\"app.8bb13e6872b16c0a44e2.hot-update.js\"],\"names\":[\"webpackHotUpdate\",\"./node_modules/cache-loader/dist/cjs.js?!./node_modules/babel-loader/lib/index.js!./node_modules/cache-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./src/mviews/ArticleList.vue?vue&type=script&lang=js&\",\"module\",\"__webpack_exports__\",\"__webpack_require__\",\"eval\"],\"mappings\":\"AAAAA,iBAAiB,MAAM,CAEjBC;;;;gCAKA,SAAUC,OAAQC,oBAAqBC,qBAE7C,aACAC,KAAK\"}","code":"webpackHotUpdate(\"app\",{\"./node_modules/cache-loader/dist/cjs.js?!./node_modules/babel-loader/lib/index.js!./node_modules/cache-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./src/mviews/ArticleList.vue?vue&type=script&lang=js&\":\n/*!****************************************************************************************************************************************************************************************************************************************************!*\\\n  !*** ./node_modules/cache-loader/dist/cjs.js??ref--12-0!./node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./src/mviews/ArticleList.vue?vue&type=script&lang=js& ***!\n  \\****************************************************************************************************************************************************************************************************************************************************/\n/*! exports provided: default */function(module,__webpack_exports__,__webpack_require__){\"use strict\";eval('__webpack_require__.r(__webpack_exports__);\\n/* harmony import */ var D_vue_blog_vue_blog_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./node_modules/@babel/runtime/helpers/esm/toConsumableArray */ \"./node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\");\\n/* harmony import */ var core_js_modules_es_string_trim_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! core-js/modules/es.string.trim.js */ \"./node_modules/core-js/modules/es.string.trim.js\");\\n/* harmony import */ var core_js_modules_es_string_trim_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_string_trim_js__WEBPACK_IMPORTED_MODULE_1__);\\n/* harmony import */ var core_js_modules_es_object_entries_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! core-js/modules/es.object.entries.js */ \"./node_modules/core-js/modules/es.object.entries.js\");\\n/* harmony import */ var core_js_modules_es_object_entries_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_object_entries_js__WEBPACK_IMPORTED_MODULE_2__);\\n/* harmony import */ var _components_m_ArticleItem__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/components/m/ArticleItem */ \"./src/components/m/ArticleItem.vue\");\\n/* harmony import */ var qs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! qs */ \"./node_modules/qs/lib/index.js\");\\n/* harmony import */ var qs__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(qs__WEBPACK_IMPORTED_MODULE_4__);\\n/* harmony import */ var vant__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! vant */ \"./node_modules/vant/es/index.js\");\\n\\n\\n\\n//\\n//\\n//\\n//\\n//\\n//\\n//\\n//\\n//\\n//\\n//\\n//\\n//\\n//\\n//\\n//\\n//\\n//\\n//\\n//\\n//\\n\\n\\n\\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\\n  name: \\'ArticleList\\',\\n  components: {\\n    ArticleItem: _components_m_ArticleItem__WEBPACK_IMPORTED_MODULE_3__[\"default\"]\\n  },\\n  props: {\\n    columnId: {\\n      type: String\\n    }\\n  },\\n  data: function data() {\\n    return {\\n      isLoading: false,\\n      loading: false,\\n      finished: false,\\n      articleList: [],\\n      size: 4,\\n      page: 1,\\n      q: \\'\\',\\n      columnCacheArticle: {}\\n    };\\n  },\\n  mounted: function mounted() {\\n    var _this = this;\\n\\n    this.$EventBus.$off(\\'searchArticle\\');\\n    this.$EventBus.$on(\\'searchArticle\\', function (q) {\\n      _this.q = q;\\n      _this.isLoading = true;\\n\\n      _this.resetParams();\\n\\n      _this.getArticles();\\n    });\\n  },\\n  computed: {},\\n  watch: {\\n    columnId: function columnId(newColumnId) {\\n      if (newColumnId.trim().length === 0) {\\n        return false;\\n      }\\n\\n      if (this.columnCacheArticle[newColumnId]) {\\n        this.articleList = this.columnCacheArticle[newColumnId];\\n        return false;\\n      }\\n\\n      this.isLoading = true; // this.onRefresh()\\n\\n      this.$once(\\'onRefresh\\');\\n      this.isLoading = false;\\n    }\\n  },\\n  methods: {\\n    onRefresh: function onRefresh() {\\n      var _this2 = this;\\n\\n      setTimeout(function () {\\n        _this2.resetParams();\\n\\n        _this2.onLoad();\\n\\n        Object(vant__WEBPACK_IMPORTED_MODULE_5__[\"Toast\"])(\\'刷新成功\\');\\n      }, 500);\\n    },\\n    onLoad: function onLoad() {\\n      this.getArticles();\\n    },\\n    getQuery: function getQuery() {\\n      var column = this.columnId || undefined;\\n      var q = this.q || undefined;\\n      var query = JSON.parse(JSON.stringify({\\n        column: column,\\n        q: q\\n      }));\\n      return query;\\n    },\\n    resetParams: function resetParams() {\\n      this.page = 1;\\n      this.finished = false;\\n      this.loading = true;\\n    },\\n    getArticles: function getArticles() {\\n      var _this3 = this;\\n\\n      var data = {\\n        size: this.size,\\n        page: this.page\\n      };\\n      var query = this.getQuery();\\n\\n      if (Object.entries(query).length > 0) {\\n        data.query = qs__WEBPACK_IMPORTED_MODULE_4___default.a.stringify(query);\\n      }\\n\\n      this.$api({\\n        type: \\'articles\\',\\n        data: data\\n      }).then(function (result) {\\n        var _this3$articleList;\\n\\n        if (_this3.isLoading) {\\n          _this3.articleList = [];\\n          _this3.isLoading = false;\\n        }\\n\\n        if (_this3.articleList.length >= result.total) {\\n          //没有更多了\\n          _this3.finished = true;\\n          return;\\n        }\\n\\n        (_this3$articleList = _this3.articleList).push.apply(_this3$articleList, Object(D_vue_blog_vue_blog_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(result.list));\\n\\n        _this3.cacheColumnList();\\n\\n        _this3.loading = false;\\n        _this3.page++;\\n      }).catch(function (err) {\\n        Object(vant__WEBPACK_IMPORTED_MODULE_5__[\"Toast\"])({\\n          message: err\\n        });\\n      });\\n    },\\n    cacheColumnList: function cacheColumnList() {\\n      if (this.columnId) {\\n        this.columnCacheArticle[this.columnId] = JSON.parse(JSON.stringify(this.articleList));\\n      }\\n    }\\n  },\\n  beforeDestroy: function beforeDestroy() {}\\n});//# sourceURL=[module]\\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvY2FjaGUtbG9hZGVyL2Rpc3QvY2pzLmpzPyEuL25vZGVfbW9kdWxlcy9iYWJlbC1sb2FkZXIvbGliL2luZGV4LmpzIS4vbm9kZV9tb2R1bGVzL2NhY2hlLWxvYWRlci9kaXN0L2Nqcy5qcz8hLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvaW5kZXguanM/IS4vc3JjL212aWV3cy9BcnRpY2xlTGlzdC52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9anMmLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vL0FydGljbGVMaXN0LnZ1ZT9lMmRmIl0sInNvdXJjZXNDb250ZW50IjpbIjx0ZW1wbGF0ZT5cclxuICA8dmFuLXB1bGwtcmVmcmVzaCBjbGFzcz1cImJsb2dtLWl0ZW0tLWxpc3RcIlxyXG4gICAgICAgICAgICAgICAgICAgIHYtbW9kZWw9XCJpc0xvYWRpbmdcIlxyXG4gICAgICAgICAgICAgICAgICAgIEByZWZyZXNoPVwib25SZWZyZXNoXCI+XHJcbiAgICA8dmFuLWxpc3Qgdi1tb2RlbD1cImxvYWRpbmdcIlxyXG4gICAgICAgICAgICAgIDpmaW5pc2hlZD1cImZpbmlzaGVkXCJcclxuICAgICAgICAgICAgICBmaW5pc2hlZC10ZXh0PVwi5rKh5pyJ5pu05aSa5LqGXCJcclxuICAgICAgICAgICAgICBlcnJvci10ZXh0PVwi6I635Y+W5aSx6LSl77yM54K55Ye76YeN5paw5Yqg6L29XCJcclxuICAgICAgICAgICAgICBAbG9hZD1cIm9uTG9hZFwiPlxyXG4gICAgICAgICAgICAgIDxWdWVzY3JvbGxcclxuICAgICAgPHJvdXRlci1saW5rIHYtZm9yPVwiYXJ0aWNsZSBpbiBhcnRpY2xlTGlzdFwiXHJcbiAgICAgICAgICAgICAgICAgICA6a2V5PVwiYXJ0aWNsZS5pZFwiXHJcbiAgICAgICAgICAgICAgICAgICA6dG89XCJ7bmFtZTonbUFydGljbGUnLHBhcmFtczp7aWQ6YXJ0aWNsZS5pZCx0aXRsZTphcnRpY2xlLnRpdGxlfX1cIj5cclxuICAgICAgICA8QXJ0aWNsZUl0ZW0gOmFydGljbGU9XCJhcnRpY2xlXCIgLz5cclxuICAgICAgPC9yb3V0ZXItbGluaz5cclxuXHJcbiAgICA8L3Zhbi1saXN0PlxyXG5cclxuICA8L3Zhbi1wdWxsLXJlZnJlc2g+XHJcbjwvdGVtcGxhdGU+XHJcblxyXG48c2NyaXB0PlxyXG5pbXBvcnQgQXJ0aWNsZUl0ZW0gZnJvbSAnQC9jb21wb25lbnRzL20vQXJ0aWNsZUl0ZW0nXHJcbmltcG9ydCBRUyBmcm9tICdxcydcclxuaW1wb3J0IHsgVG9hc3QgfSBmcm9tICd2YW50J1xyXG5leHBvcnQgZGVmYXVsdCB7XHJcbiAgbmFtZTogJ0FydGljbGVMaXN0JyxcclxuICBjb21wb25lbnRzOiB7XHJcbiAgICBBcnRpY2xlSXRlbVxyXG4gIH0sXHJcbiAgcHJvcHM6IHtcclxuICAgIGNvbHVtbklkOiB7XHJcbiAgICAgIHR5cGU6IFN0cmluZ1xyXG4gICAgfVxyXG4gIH0sXHJcbiAgZGF0YSAoKSB7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICBpc0xvYWRpbmc6IGZhbHNlLFxyXG4gICAgICBsb2FkaW5nOiBmYWxzZSxcclxuICAgICAgZmluaXNoZWQ6IGZhbHNlLFxyXG4gICAgICBhcnRpY2xlTGlzdDogW10sXHJcbiAgICAgIHNpemU6IDQsXHJcbiAgICAgIHBhZ2U6IDEsXHJcbiAgICAgIHE6ICcnLFxyXG4gICAgICBjb2x1bW5DYWNoZUFydGljbGU6IHt9XHJcbiAgICB9XHJcbiAgfSxcclxuICBtb3VudGVkICgpIHtcclxuICAgIHRoaXMuJEV2ZW50QnVzLiRvZmYoJ3NlYXJjaEFydGljbGUnKVxyXG4gICAgdGhpcy4kRXZlbnRCdXMuJG9uKCdzZWFyY2hBcnRpY2xlJywgcSA9PiB7XHJcbiAgICAgIHRoaXMucSA9IHFcclxuICAgICAgdGhpcy5pc0xvYWRpbmcgPSB0cnVlXHJcbiAgICAgIHRoaXMucmVzZXRQYXJhbXMoKVxyXG4gICAgICB0aGlzLmdldEFydGljbGVzKClcclxuICAgIH0pXHJcbiAgfSxcclxuICBjb21wdXRlZDoge1xyXG5cclxuICB9LFxyXG4gIHdhdGNoOiB7XHJcbiAgICBjb2x1bW5JZCAobmV3Q29sdW1uSWQpIHtcclxuXHJcbiAgICAgIGlmIChuZXdDb2x1bW5JZC50cmltKCkubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlXHJcbiAgICAgIH1cclxuICAgICAgaWYgKHRoaXMuY29sdW1uQ2FjaGVBcnRpY2xlW25ld0NvbHVtbklkXSkge1xyXG4gICAgICAgIHRoaXMuYXJ0aWNsZUxpc3QgPSB0aGlzLmNvbHVtbkNhY2hlQXJ0aWNsZVtuZXdDb2x1bW5JZF1cclxuICAgICAgICByZXR1cm4gZmFsc2VcclxuICAgICAgfVxyXG4gICAgICB0aGlzLmlzTG9hZGluZyA9IHRydWVcclxuICAgICAgLy8gdGhpcy5vblJlZnJlc2goKVxyXG4gICAgICB0aGlzLiRvbmNlKCdvblJlZnJlc2gnKVxyXG4gICAgICB0aGlzLmlzTG9hZGluZyA9IGZhbHNlXHJcbiAgICB9XHJcbiAgfSxcclxuICBtZXRob2RzOiB7XHJcbiAgICBvblJlZnJlc2ggKCkge1xyXG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICB0aGlzLnJlc2V0UGFyYW1zKClcclxuICAgICAgICB0aGlzLm9uTG9hZCgpXHJcbiAgICAgICAgVG9hc3QoJ+WIt+aWsOaIkOWKnycpXHJcbiAgICAgIH0sIDUwMClcclxuICAgICAgXHJcbiAgICB9LFxyXG4gICAgb25Mb2FkICgpIHtcclxuICAgICAgdGhpcy5nZXRBcnRpY2xlcygpXHJcbiAgICB9LFxyXG4gICAgZ2V0UXVlcnkgKCkge1xyXG4gICAgICBsZXQgY29sdW1uID0gdGhpcy5jb2x1bW5JZCB8fCB1bmRlZmluZWRcclxuICAgICAgbGV0IHEgPSB0aGlzLnEgfHwgdW5kZWZpbmVkXHJcbiAgICAgIGxldCBxdWVyeSA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoe1xyXG4gICAgICAgIGNvbHVtbiwgcVxyXG4gICAgICB9KSlcclxuICAgICAgcmV0dXJuIHF1ZXJ5XHJcbiAgICB9LFxyXG4gICAgcmVzZXRQYXJhbXMgKCkge1xyXG4gICAgICB0aGlzLnBhZ2UgPSAxXHJcbiAgICAgIHRoaXMuZmluaXNoZWQgPSBmYWxzZVxyXG4gICAgICB0aGlzLmxvYWRpbmcgPSB0cnVlXHJcbiAgICB9LFxyXG4gICAgZ2V0QXJ0aWNsZXMgKCkge1xyXG4gICAgICBsZXQgZGF0YSA9IHsgc2l6ZTogdGhpcy5zaXplLCBwYWdlOiB0aGlzLnBhZ2UgfVxyXG4gICAgICBsZXQgcXVlcnkgPSB0aGlzLmdldFF1ZXJ5KClcclxuICAgICAgaWYgKE9iamVjdC5lbnRyaWVzKHF1ZXJ5KS5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgZGF0YS5xdWVyeSA9IFFTLnN0cmluZ2lmeShxdWVyeSlcclxuICAgICAgfVxyXG4gICAgICB0aGlzLiRhcGkoeyB0eXBlOiAnYXJ0aWNsZXMnLCBkYXRhIH0pLnRoZW4ocmVzdWx0ID0+IHtcclxuICAgICAgICBpZiAodGhpcy5pc0xvYWRpbmcpIHtcclxuICAgICAgICAgIHRoaXMuYXJ0aWNsZUxpc3QgPSBbXVxyXG4gICAgICAgICAgdGhpcy5pc0xvYWRpbmcgPSBmYWxzZVxyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy5hcnRpY2xlTGlzdC5sZW5ndGggPj0gcmVzdWx0LnRvdGFsKSB7XHJcbiAgICAgICAgICAvL+ayoeacieabtOWkmuS6hlxyXG4gICAgICAgICAgdGhpcy5maW5pc2hlZCA9IHRydWVcclxuICAgICAgICAgIHJldHVyblxyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmFydGljbGVMaXN0LnB1c2goLi4ucmVzdWx0Lmxpc3QpXHJcbiAgICAgICAgdGhpcy5jYWNoZUNvbHVtbkxpc3QoKVxyXG4gICAgICAgIHRoaXMubG9hZGluZyA9IGZhbHNlXHJcbiAgICAgICAgdGhpcy5wYWdlKytcclxuXHJcbiAgICAgIH0pLmNhdGNoKGVyciA9PiB7XHJcbiAgICAgICAgVG9hc3QoeyBtZXNzYWdlOiBlcnIgfSlcclxuICAgICAgfSlcclxuICAgIH0sXHJcbiAgICBjYWNoZUNvbHVtbkxpc3QgKCkge1xyXG4gICAgICBpZiAodGhpcy5jb2x1bW5JZCkge1xyXG4gICAgICAgIHRoaXMuY29sdW1uQ2FjaGVBcnRpY2xlW3RoaXMuY29sdW1uSWRdID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeSh0aGlzLmFydGljbGVMaXN0KSlcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH0sXHJcbiAgYmVmb3JlRGVzdHJveSAoKSB7XHJcblxyXG4gIH1cclxufVxyXG48L3NjcmlwdD5cclxuPHN0eWxlIGxhbmc9XCJzdHlsdXNcIiA+XHJcbi5ibG9nbS1pdGVtLS1saXN0XHJcbiAgaGVpZ2h0IDEwMCVcclxuICBvdmVyZmxvdyBoaWRkZW5cclxuICAudmFuLXB1bGwtcmVmcmVzaF9fdHJhY2tcclxuICAgIGhlaWdodCAxMDAlXHJcbjwvc3R5bGU+Il0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBc0JBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBREE7QUFHQTtBQUNBO0FBQ0E7QUFEQTtBQURBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFSQTtBQVVBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBZEE7QUFnQkE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBREE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUVBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUF0REE7QUF3REE7QUExR0EiLCJzb3VyY2VSb290IjoiIn0=\\n//# sourceURL=webpack-internal:///./node_modules/cache-loader/dist/cjs.js?!./node_modules/babel-loader/lib/index.js!./node_modules/cache-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./src/mviews/ArticleList.vue?vue&type=script&lang=js&\\n')}});","extractedComments":[]}