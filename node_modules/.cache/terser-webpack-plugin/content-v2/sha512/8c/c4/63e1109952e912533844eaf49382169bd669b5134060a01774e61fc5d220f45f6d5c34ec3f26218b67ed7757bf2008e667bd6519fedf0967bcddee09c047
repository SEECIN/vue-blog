{"map":"{\"version\":3,\"sources\":[\"app.956c562ae9f00c42de6b.hot-update.js\"],\"names\":[\"webpackHotUpdate\",\"./src/store/modules/likes.js\",\"module\",\"__webpack_exports__\",\"__webpack_require__\",\"eval\"],\"mappings\":\"AAAAA,iBAAiB,MAAM,CAEjBC;;;;gCAKA,SAAUC,OAAQC,oBAAqBC,qBAE7C,aACAC,KAAK\"}","code":"webpackHotUpdate(\"app\",{\"./src/store/modules/likes.js\":\n/*!************************************!*\\\n  !*** ./src/store/modules/likes.js ***!\n  \\************************************/\n/*! exports provided: default */function(module,__webpack_exports__,__webpack_require__){\"use strict\";eval('__webpack_require__.r(__webpack_exports__);\\n/* harmony import */ var D_vue_blog_vue_blog_node_modules_babel_runtime_helpers_esm_objectDestructuringEmpty__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./node_modules/@babel/runtime/helpers/esm/objectDestructuringEmpty */ \"./node_modules/@babel/runtime/helpers/esm/objectDestructuringEmpty.js\");\\n/* harmony import */ var D_vue_blog_vue_blog_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./node_modules/@babel/runtime/helpers/esm/asyncToGenerator */ \"./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\");\\n/* harmony import */ var regenerator_runtime_runtime_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! regenerator-runtime/runtime.js */ \"./node_modules/regenerator-runtime/runtime.js\");\\n/* harmony import */ var regenerator_runtime_runtime_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(regenerator_runtime_runtime_js__WEBPACK_IMPORTED_MODULE_2__);\\n/* harmony import */ var core_js_modules_es_array_includes_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! core-js/modules/es.array.includes.js */ \"./node_modules/core-js/modules/es.array.includes.js\");\\n/* harmony import */ var core_js_modules_es_array_includes_js__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_array_includes_js__WEBPACK_IMPORTED_MODULE_3__);\\n/* harmony import */ var core_js_modules_es_string_includes_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! core-js/modules/es.string.includes.js */ \"./node_modules/core-js/modules/es.string.includes.js\");\\n/* harmony import */ var core_js_modules_es_string_includes_js__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_string_includes_js__WEBPACK_IMPORTED_MODULE_4__);\\n/* harmony import */ var core_js_modules_es_array_splice_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! core-js/modules/es.array.splice.js */ \"./node_modules/core-js/modules/es.array.splice.js\");\\n/* harmony import */ var core_js_modules_es_array_splice_js__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_array_splice_js__WEBPACK_IMPORTED_MODULE_5__);\\n/* harmony import */ var store__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! store */ \"./node_modules/store/dist/store.legacy.js\");\\n/* harmony import */ var store__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(store__WEBPACK_IMPORTED_MODULE_6__);\\n/* harmony import */ var vue__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! vue */ \"vue\");\\n/* harmony import */ var vue__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(vue__WEBPACK_IMPORTED_MODULE_7__);\\n\\n\\n\\n\\n\\n\\n\\n\\nvar LIKES_NAME = \"ua_likes\";\\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\\n  namespaced: true,\\n  state: {\\n    likes: store__WEBPACK_IMPORTED_MODULE_6___default.a.get(LIKES_NAME)\\n  },\\n  getters: {\\n    hadLike: function hadLike(state) {\\n      return function (aid) {\\n        return !!state.likes.includes(aid);\\n      };\\n    }\\n  },\\n  mutations: {\\n    CHANGE_LIKES: function CHANGE_LIKES(state) {\\n      state.likes = store__WEBPACK_IMPORTED_MODULE_6___default.a.get(LIKES_NAME);\\n    }\\n  },\\n  actions: {\\n    pushLikes: function pushLikes(_ref, payload) {\\n      var commit = _ref.commit;\\n      var aid = payload.aid;\\n\\n      if (aid) {\\n        var localLikes = store__WEBPACK_IMPORTED_MODULE_6___default.a.get(LIKES_NAME) || [];\\n        var idx = localLikes.indexOf(aid);\\n\\n        if (idx === -1) {\\n          localLikes.push(aid);\\n        }\\n\\n        store__WEBPACK_IMPORTED_MODULE_6___default.a.set(LIKES_NAME, localLikes);\\n        commit(\\'CHANGE_LIKES\\');\\n      }\\n    },\\n    pullLikes: function pullLikes(_ref2, payload) {\\n      var commit = _ref2.commit;\\n      var aid = payload.aid;\\n\\n      if (aid) {\\n        var localLikes = store__WEBPACK_IMPORTED_MODULE_6___default.a.get(LIKES_NAME) || [];\\n        var idx = localLikes.indexOf(aid);\\n\\n        if (idx !== -1) {\\n          localLikes.splice(idx, 1);\\n        }\\n\\n        store__WEBPACK_IMPORTED_MODULE_6___default.a.set(LIKES_NAME, localLikes);\\n        commit(\\'CHANGE_LIKES\\');\\n      }\\n    },\\n    updateLikes: function updateLikes(_ref3, _ref4) {\\n      return Object(D_vue_blog_vue_blog_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__[\"default\"])( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\\n        var aid;\\n        return regeneratorRuntime.wrap(function _callee$(_context) {\\n          while (1) {\\n            switch (_context.prev = _context.next) {\\n              case 0:\\n                Object(D_vue_blog_vue_blog_node_modules_babel_runtime_helpers_esm_objectDestructuringEmpty__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(_ref3);\\n\\n                aid = _ref4.aid;\\n                console.log(state);\\n                vue__WEBPACK_IMPORTED_MODULE_7___default.a.prototype.$api({\\n                  type: \\'articleLikes\\',\\n                  data: {\\n                    id: aid\\n                  }\\n                });\\n\\n              case 4:\\n              case \"end\":\\n                return _context.stop();\\n            }\\n          }\\n        }, _callee);\\n      }))();\\n    }\\n  },\\n  modules: {}\\n});//# sourceURL=[module]\\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvc3RvcmUvbW9kdWxlcy9saWtlcy5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9zdG9yZS9tb2R1bGVzL2xpa2VzLmpzPzlmZjYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHN0b3JlIGZyb20gJ3N0b3JlJ1xyXG5pbXBvcnQgVnVlIGZyb20gJ3Z1ZSdcclxuY29uc3QgTElLRVNfTkFNRSA9IHByb2Nlc3MuZW52LlZVRV9BUFBfTElLRVNfTkFNRVxyXG5leHBvcnQgZGVmYXVsdHtcclxuICBuYW1lc3BhY2VkOiB0cnVlLFxyXG4gIHN0YXRlOiB7XHJcbiAgICBsaWtlczpzdG9yZS5nZXQoTElLRVNfTkFNRSkgXHJcbiAgfSxcclxuICBnZXR0ZXJzOntcclxuICAgIGhhZExpa2U6c3RhdGU9PihhaWQpPT57XHJcbiAgICAgIHJldHVybiAhIShzdGF0ZS5saWtlcy5pbmNsdWRlcyhhaWQpKVxyXG4gICAgfVxyXG4gIH0sXHJcbiAgbXV0YXRpb25zOiB7XHJcbiAgICBDSEFOR0VfTElLRVMoc3RhdGUpe1xyXG4gICAgICBzdGF0ZS5saWtlcyA9IHN0b3JlLmdldChMSUtFU19OQU1FKVxyXG4gICAgfVxyXG4gIH0sXHJcbiAgYWN0aW9uczoge1xyXG4gICAgcHVzaExpa2VzKHtjb21taXR9LHBheWxvYWQpe1xyXG4gICAgICBsZXQge2FpZH0gPSBwYXlsb2FkXHJcbiAgICAgIGlmKGFpZCl7XHJcbiAgICAgICAgbGV0IGxvY2FsTGlrZXMgPSBzdG9yZS5nZXQoTElLRVNfTkFNRSkgfHwgW11cclxuICAgICAgICBsZXQgaWR4ID0gbG9jYWxMaWtlcy5pbmRleE9mKGFpZClcclxuICAgICAgICBpZihpZHggPT09IC0xKXtcclxuICAgICAgICAgIGxvY2FsTGlrZXMucHVzaChhaWQpXHJcbiAgICAgICAgfVxyXG4gICAgICAgIHN0b3JlLnNldChMSUtFU19OQU1FLGxvY2FsTGlrZXMpXHJcbiAgICAgICAgY29tbWl0KCdDSEFOR0VfTElLRVMnKVxyXG4gICAgICB9XHJcbiAgICB9LFxyXG4gICAgcHVsbExpa2VzKHtjb21taXR9LHBheWxvYWQpe1xyXG4gICAgICBsZXQge2FpZH0gPSBwYXlsb2FkXHJcbiAgICAgIGlmKGFpZCl7XHJcbiAgICAgICAgbGV0IGxvY2FsTGlrZXMgPSBzdG9yZS5nZXQoTElLRVNfTkFNRSkgfHwgW11cclxuICAgICAgICBsZXQgaWR4ID0gbG9jYWxMaWtlcy5pbmRleE9mKGFpZClcclxuICAgICAgICBpZihpZHggIT09IC0xKXtcclxuICAgICAgICAgIGxvY2FsTGlrZXMuc3BsaWNlKGlkeCwxKVxyXG4gICAgICAgIH1cclxuICAgICAgICBzdG9yZS5zZXQoTElLRVNfTkFNRSxsb2NhbExpa2VzKSAgXHJcbiAgICAgICAgY29tbWl0KCdDSEFOR0VfTElLRVMnKVxyXG4gICAgICB9XHJcbiAgICB9LFxyXG4gICAgYXN5bmMgdXBkYXRlTGlrZXMoe30se2FpZH0pe1xyXG4gICAgICBjb25zb2xlLmxvZyhzdGF0ZSk7XHJcbiAgICAgIFZ1ZS5wcm90b3R5cGUuJGFwaSh7dHlwZTonYXJ0aWNsZUxpa2VzJyxkYXRhOntpZDphaWR9fSlcclxuICAgIH1cclxuICAgIFxyXG4gIH0sXHJcbiAgbW9kdWxlczoge1xyXG4gIH1cclxufSJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFEQTtBQUdBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFGQTtBQURBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFIQTtBQUtBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQURBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUhBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBR0E7QUE1QkE7QUErQkE7QUE5Q0EiLCJzb3VyY2VSb290IjoiIn0=\\n//# sourceURL=webpack-internal:///./src/store/modules/likes.js\\n')}});","extractedComments":[]}