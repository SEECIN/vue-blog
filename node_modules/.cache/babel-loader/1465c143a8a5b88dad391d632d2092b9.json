{"remainingRequest":"D:\\桌面\\页面练习\\vue-blog\\vue-blog\\node_modules\\thread-loader\\dist\\cjs.js!D:\\桌面\\页面练习\\vue-blog\\vue-blog\\node_modules\\babel-loader\\lib\\index.js!D:\\桌面\\页面练习\\vue-blog\\vue-blog\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\桌面\\页面练习\\vue-blog\\vue-blog\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\桌面\\页面练习\\vue-blog\\vue-blog\\src\\views\\Article.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\桌面\\页面练习\\vue-blog\\vue-blog\\src\\views\\Article.vue","mtime":1631517517576},{"path":"D:\\桌面\\页面练习\\vue-blog\\vue-blog\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\桌面\\页面练习\\vue-blog\\vue-blog\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\桌面\\页面练习\\vue-blog\\vue-blog\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\桌面\\页面练习\\vue-blog\\vue-blog\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\桌面\\页面练习\\vue-blog\\vue-blog\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9Ob3RpZmljYXRpb24yIGZyb20gImVsZW1lbnQtdWkvbGliL3RoZW1lLWNoYWxrL25vdGlmaWNhdGlvbi5jc3MiOwppbXBvcnQgImVsZW1lbnQtdWkvbGliL3RoZW1lLWNoYWxrL2Jhc2UuY3NzIjsKaW1wb3J0IF9Ob3RpZmljYXRpb24gZnJvbSAiZWxlbWVudC11aS9saWIvbm90aWZpY2F0aW9uIjsKaW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkQ6L1x1Njg0Q1x1OTc2Mi9cdTk4NzVcdTk3NjJcdTdFQzNcdTRFNjAvdnVlLWJsb2cvdnVlLWJsb2cvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwppbXBvcnQgX29iamVjdFNwcmVhZCBmcm9tICJEOi9cdTY4NENcdTk3NjIvXHU5ODc1XHU5NzYyXHU3RUMzXHU0RTYwL3Z1ZS1ibG9nL3Z1ZS1ibG9nL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9vYmplY3RTcHJlYWQyIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5pbmNsdWRlcy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5pbmNsdWRlcy5qcyI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCBBcnRpY2xlQ29udGVudCBmcm9tICdAL2NvbXBvbmVudHMvYXJ0aWNsZS9BcnRpY2xlQ29udGVudCc7CmltcG9ydCBDb21tZW50VGV4dEFyZWEgZnJvbSAnQC9jb21wb25lbnRzL2NvbW1lbnQvQ29tbWVudFRleHRBcmVhJzsKaW1wb3J0IENvbW1lbnRMaXN0IGZyb20gJ0AvY29tcG9uZW50cy9jb21tZW50L0NvbW1lbnRMaXN0JzsKaW1wb3J0IHsgY3JlYXRlTmFtZXNwYWNlZEhlbHBlcnMgfSBmcm9tICd2dWV4JzsKCnZhciBfY3JlYXRlTmFtZXNwYWNlZEhlbHAgPSBjcmVhdGVOYW1lc3BhY2VkSGVscGVycygnbGlrZXMnKSwKICAgIG1hcEFjdGlvbnMgPSBfY3JlYXRlTmFtZXNwYWNlZEhlbHAubWFwQWN0aW9uczsKCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnJywKICBjb21wb25lbnRzOiB7CiAgICBBcnRpY2xlQ29udGVudDogQXJ0aWNsZUNvbnRlbnQsCiAgICBDb21tZW50VGV4dEFyZWE6IENvbW1lbnRUZXh0QXJlYSwKICAgIENvbW1lbnRMaXN0OiBDb21tZW50TGlzdAogIH0sCiAgcHJvdmlkZTogZnVuY3Rpb24gcHJvdmlkZSgpIHsKICAgIHJldHVybiB7CiAgICAgIGdldEFydGljbGVCeUlkOiB0aGlzLmdldEFydGljbGVCeUlkCiAgICB9OwogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGFydGljbGVJZDogIiIsCiAgICAgIGFydGljbGU6IHt9CiAgICB9OwogIH0sCiAgY29tcHV0ZWQ6IHt9LAogIHdhdGNoOiB7fSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgdGhpcy5hcnRpY2xlSWQgPSB0aGlzLiRyb3V0ZS5wYXJhbXMuaWQ7CiAgICB0aGlzLmdldEFydGljbGVCeUlkKCk7CiAgfSwKICBtZXRob2RzOiBfb2JqZWN0U3ByZWFkKHsKICAgIGdldEFydGljbGVCeUlkOiBmdW5jdGlvbiBnZXRBcnRpY2xlQnlJZCgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgICAgdmFyIF90aGlzJGFydGljbGUsIF90aGlzJCRzdG9yZSRnZXR0ZXJzJCwgX3RoaXMkYXJ0aWNsZTIsIGxpa2VVc2VycywgdWlkLCBhaWQ7CgogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSAwOwogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDM7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMuJGFwaSh7CiAgICAgICAgICAgICAgICAgIHR5cGU6ICJnZXRBcnRpY2xlQnlJZCIsCiAgICAgICAgICAgICAgICAgIGRhdGE6IHsKICAgICAgICAgICAgICAgICAgICBpZDogX3RoaXMuYXJ0aWNsZUlkCiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgICBfdGhpcy5hcnRpY2xlID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgICAgICAgIGxpa2VVc2VycyA9ICgoX3RoaXMkYXJ0aWNsZSA9IF90aGlzLmFydGljbGUpID09PSBudWxsIHx8IF90aGlzJGFydGljbGUgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF90aGlzJGFydGljbGUubGlrZV91c2VycykgfHwgW107CiAgICAgICAgICAgICAgICB1aWQgPSAoX3RoaXMkJHN0b3JlJGdldHRlcnMkID0gX3RoaXMuJHN0b3JlLmdldHRlcnMudXNlckluZm8pID09PSBudWxsIHx8IF90aGlzJCRzdG9yZSRnZXR0ZXJzJCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3RoaXMkJHN0b3JlJGdldHRlcnMkLl9pZDsKICAgICAgICAgICAgICAgIGFpZCA9IChfdGhpcyRhcnRpY2xlMiA9IF90aGlzLmFydGljbGUpID09PSBudWxsIHx8IF90aGlzJGFydGljbGUyID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfdGhpcyRhcnRpY2xlMi5pZDsKCiAgICAgICAgICAgICAgICBpZiAobGlrZVVzZXJzLmluY2x1ZGVzKHVpZCkpIHsKICAgICAgICAgICAgICAgICAgX3RoaXMucHVzaExpa2VzKHsKICAgICAgICAgICAgICAgICAgICBhaWQ6IGFpZAogICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTM7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAxMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSAxMDsKICAgICAgICAgICAgICAgIF9jb250ZXh0LnQwID0gX2NvbnRleHRbImNhdGNoIl0oMCk7CgogICAgICAgICAgICAgICAgX05vdGlmaWNhdGlvbi53YXJuaW5nKHsKICAgICAgICAgICAgICAgICAgdGl0bGU6ICfojrflj5blpLHotKUnLAogICAgICAgICAgICAgICAgICBtZXNzYWdlOiBfY29udGV4dC50MC5tZXNzYWdlCiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAxMzoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUsIG51bGwsIFtbMCwgMTBdXSk7CiAgICAgIH0pKSgpOwogICAgfQogIH0sIG1hcEFjdGlvbnMoWydwdXNoTGlrZXMnLCAnc2VuZExpa2VzJ10pKQp9Ow=="},{"version":3,"sources":["Article.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;AAWA,OAAA,cAAA,MAAA,qCAAA;AACA,OAAA,eAAA,MAAA,sCAAA;AACA,OAAA,WAAA,MAAA,kCAAA;AACA,SAAA,uBAAA,QAAA,MAAA;;AACA,4BAAA,uBAAA,CAAA,OAAA,CAAA;AAAA,IAAA,UAAA,yBAAA,UAAA;;AACA,eAAA;AACA,EAAA,IAAA,EAAA,EADA;AAEA,EAAA,UAAA,EAAA;AACA,IAAA,cAAA,EAAA,cADA;AACA,IAAA,eAAA,EAAA,eADA;AACA,IAAA,WAAA,EAAA;AADA,GAFA;AAKA,EAAA,OALA,qBAKA;AACA,WAAA;AACA,MAAA,cAAA,EAAA,KAAA;AADA,KAAA;AAGA,GATA;AAUA,EAAA,IAVA,kBAUA;AACA,WAAA;AACA,MAAA,SAAA,EAAA,EADA;AAEA,MAAA,OAAA,EAAA;AAFA,KAAA;AAIA,GAfA;AAgBA,EAAA,QAAA,EAAA,EAhBA;AAmBA,EAAA,KAAA,EAAA,EAnBA;AAsBA,EAAA,OAtBA,qBAsBA;AACA,SAAA,SAAA,GAAA,KAAA,MAAA,CAAA,MAAA,CAAA,EAAA;AACA,SAAA,cAAA;AACA,GAzBA;AA0BA,EAAA,OAAA;AACA,IAAA,cADA,4BACA;AAAA;;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAEA,KAAA,CAAA,IAAA,CAAA;AAAA,kBAAA,IAAA,EAAA,gBAAA;AAAA,kBAAA,IAAA,EAAA;AAAA,oBAAA,EAAA,EAAA,KAAA,CAAA;AAAA;AAAA,iBAAA,CAFA;;AAAA;AAEA,gBAAA,KAAA,CAAA,OAFA;AAGA,gBAAA,SAHA,GAGA,kBAAA,KAAA,CAAA,OAAA,gEAAA,UAAA,KAAA,EAHA;AAIA,gBAAA,GAJA,4BAIA,KAAA,CAAA,MAAA,CAAA,OAAA,CAAA,QAJA,0DAIA,sBAAA,GAJA;AAKA,gBAAA,GALA,qBAKA,KAAA,CAAA,OALA,mDAKA,eAAA,EALA;;AAMA,oBAAA,SAAA,CAAA,QAAA,CAAA,GAAA,CAAA,EAAA;AACA,kBAAA,KAAA,CAAA,SAAA,CAAA;AAAA,oBAAA,GAAA,EAAA;AAAA,mBAAA;AACA;;AARA;AAAA;;AAAA;AAAA;AAAA;;AAUA,8BAAA,OAAA,CAAA;AACA,kBAAA,KAAA,EAAA,MADA;AAEA,kBAAA,OAAA,EAAA,YAAA;AAFA,iBAAA;;AAVA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAeA;AAhBA,KAiBA,UAAA,CAAA,CAAA,WAAA,EAAA,WAAA,CAAA,CAjBA;AA1BA,CAAA","sourcesContent":["<template>\r\n  <div>\r\n    <ArticleContent :article=\"article\" />\r\n    <CommentTextArea :aid=\"article.id\" />\r\n    <CommentList :comments=\"article.comments\" />\r\n  </div>\r\n\r\n</template>\r\n\r\n<script>\r\nimport { Notification } from 'element-ui'\r\nimport ArticleContent from '@/components/article/ArticleContent'\r\nimport CommentTextArea from '@/components/comment/CommentTextArea'\r\nimport CommentList from '@/components/comment/CommentList'\r\nimport { createNamespacedHelpers } from 'vuex'\r\nconst { mapActions } = createNamespacedHelpers('likes')\r\nexport default {\r\n  name: '',\r\n  components: {\r\n    ArticleContent, CommentTextArea, CommentList\r\n  },\r\n  provide () {\r\n    return {\r\n      getArticleById: this.getArticleById\r\n    }\r\n  },\r\n  data () {\r\n    return {\r\n      articleId: \"\",\r\n      article: {}\r\n    }\r\n  },\r\n  computed: {\r\n\r\n  },\r\n  watch: {\r\n\r\n  },\r\n  created () {\r\n    this.articleId = this.$route.params.id\r\n    this.getArticleById()\r\n  },\r\n  methods: {\r\n    async getArticleById () {\r\n      try {\r\n        this.article = await this.$api({ type: \"getArticleById\", data: { id: this.articleId } })\r\n        let likeUsers = this.article?.like_users || []\r\n        let uid = this.$store.getters.userInfo?._id\r\n        let aid = this.article?.id\r\n        if (likeUsers.includes(uid)) {\r\n          this.pushLikes({ aid })\r\n        }\r\n      } catch (error) {\r\n        Notification.warning({\r\n          title: '获取失败',\r\n          message: error.message\r\n        })\r\n      }\r\n    },\r\n    ...mapActions(['pushLikes', 'sendLikes'])\r\n  },\r\n}\r\n</script>\r\n<style scoped>\r\n</style>"],"sourceRoot":"src/views"}]}