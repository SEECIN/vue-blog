{"remainingRequest":"D:\\桌面\\页面练习\\vue-blog\\vue-blog\\node_modules\\babel-loader\\lib\\index.js!D:\\桌面\\页面练习\\vue-blog\\vue-blog\\node_modules\\eslint-loader\\index.js??ref--13-0!D:\\桌面\\页面练习\\vue-blog\\vue-blog\\src\\store\\index.js","dependencies":[{"path":"D:\\桌面\\页面练习\\vue-blog\\vue-blog\\src\\store\\index.js","mtime":1628738169644},{"path":"D:\\桌面\\页面练习\\vue-blog\\vue-blog\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\桌面\\页面练习\\vue-blog\\vue-blog\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\桌面\\页面练习\\vue-blog\\vue-blog\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkQ6L1x1Njg0Q1x1OTc2Mi9cdTk4NzVcdTk3NjJcdTdFQzNcdTRFNjAvdnVlLWJsb2cvdnVlLWJsb2cvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyI7CmltcG9ydCBWdWUgZnJvbSAndnVlJzsKaW1wb3J0IFZ1ZXggZnJvbSAndnVleCc7CmltcG9ydCBtb2RhbCBmcm9tICcuL21vZHVsZXMvbW9kYWwnOwppbXBvcnQgc3RvcmUgZnJvbSAnc3RvcmUnOwppbXBvcnQgYmFzZSBmcm9tICdAL2NvbmZpZy9iYXNlLmNvbmZpZyc7CmltcG9ydCBodHRwIGZyb20gJ0AvYXBpL2h0dHAnOwp2YXIgVE9LRU5fTkFNRSA9IGJhc2UuVE9LRU5fTkFNRTsKVnVlLnVzZShWdWV4KTsKZXhwb3J0IGRlZmF1bHQgbmV3IFZ1ZXguU3RvcmUoewogIHN0YXRlOiB7CiAgICB0b2tlbjogc3RvcmUuZ2V0KFRPS0VOX05BTUUpLAogICAgdXNlckluZm86IHt9CiAgfSwKICBnZXR0ZXJzOiB7CiAgICB1c2VySW5mbzogZnVuY3Rpb24gdXNlckluZm8oc3RhdGUpIHsKICAgICAgaWYgKHN0YXRlLnRva2VuKSB7CiAgICAgICAgcmV0dXJuIHN0YXRlLnVzZXJJbmZvOwogICAgICB9CiAgICB9CiAgfSwKICBtdXRhdGlvbnM6IHsKICAgIFNFVF9UT0tFTjogZnVuY3Rpb24gU0VUX1RPS0VOKHN0YXRlKSB7CiAgICAgIHN0YXRlLnRva2VuID0gc3RvcmUuZ2V0KFRPS0VOX05BTUUpOwogICAgfSwKICAgIFNFVF9VU0VSSU5GTzogZnVuY3Rpb24gU0VUX1VTRVJJTkZPKHN0YXRlLCB1c2VySW5mbykgewogICAgICBzdGF0ZS51c2VySW5mbyA9IHVzZXJJbmZvOwogICAgfQogIH0sCiAgYWN0aW9uczogewogICAgbG9naW46IGZ1bmN0aW9uIGxvZ2luKF9yZWYpIHsKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICB2YXIgZGlzcGF0Y2gsIGNvbW1pdDsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBkaXNwYXRjaCA9IF9yZWYuZGlzcGF0Y2gsIGNvbW1pdCA9IF9yZWYuY29tbWl0OwogICAgICAgICAgICAgICAgY29tbWl0KCdTRVRfVE9LRU4nKTsKICAgICAgICAgICAgICAgIGRpc3BhdGNoKCdnZXRVc2VySW5mbycpOwoKICAgICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgZ2V0VXNlckluZm86IGZ1bmN0aW9uIGdldFVzZXJJbmZvKF9yZWYyKSB7CiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyKCkgewogICAgICAgIHZhciBjb21taXQsIHVzZXJJbmZvOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBjb21taXQgPSBfcmVmMi5jb21taXQ7CiAgICAgICAgICAgICAgICBfY29udGV4dDIucHJldiA9IDE7CiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDQ7CiAgICAgICAgICAgICAgICByZXR1cm4gaHR0cCh7CiAgICAgICAgICAgICAgICAgIHR5cGU6ICdnZXRVc2VySW5mbycKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgICB1c2VySW5mbyA9IF9jb250ZXh0Mi5zZW50OwogICAgICAgICAgICAgICAgY29tbWl0KCdTRVRfVVNFUklORk8nLCB1c2VySW5mbyk7CiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDExOwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgODoKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5wcmV2ID0gODsKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi50MCA9IF9jb250ZXh0MlsiY2F0Y2giXSgxKTsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKF9jb250ZXh0Mi50MCk7CgogICAgICAgICAgICAgIGNhc2UgMTE6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTIsIG51bGwsIFtbMSwgOF1dKTsKICAgICAgfSkpKCk7CiAgICB9CiAgfSwKICBtb2R1bGVzOiB7CiAgICBtb2RhbDogbW9kYWwKICB9Cn0pOw=="},{"version":3,"sources":["D:/桌面/页面练习/vue-blog/vue-blog/src/store/index.js"],"names":["Vue","Vuex","modal","store","base","http","TOKEN_NAME","use","Store","state","token","get","userInfo","getters","mutations","SET_TOKEN","SET_USERINFO","actions","login","dispatch","commit","getUserInfo","type","console","log","modules"],"mappings":";;AAAA,OAAOA,GAAP,MAAgB,KAAhB;AACA,OAAOC,IAAP,MAAiB,MAAjB;AACA,OAAOC,KAAP,MAAkB,iBAAlB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,IAAP,MAAiB,sBAAjB;AACA,OAAOC,IAAP,MAAiB,YAAjB;AAEA,IAAQC,UAAR,GAAuBF,IAAvB,CAAQE,UAAR;AAEAN,GAAG,CAACO,GAAJ,CAAQN,IAAR;AAEA,eAAe,IAAIA,IAAI,CAACO,KAAT,CAAe;AAC5BC,EAAAA,KAAK,EAAE;AACLC,IAAAA,KAAK,EAAEP,KAAK,CAACQ,GAAN,CAAUL,UAAV,CADF;AAELM,IAAAA,QAAQ,EAAE;AAFL,GADqB;AAK5BC,EAAAA,OAAO,EAAE;AACPD,IAAAA,QADO,oBACGH,KADH,EACU;AACf,UAAIA,KAAK,CAACC,KAAV,EAAiB;AACf,eAAOD,KAAK,CAACG,QAAb;AACD;AACF;AALM,GALmB;AAY5BE,EAAAA,SAAS,EAAE;AACTC,IAAAA,SADS,qBACEN,KADF,EACS;AAChBA,MAAAA,KAAK,CAACC,KAAN,GAAcP,KAAK,CAACQ,GAAN,CAAUL,UAAV,CAAd;AACD,KAHQ;AAITU,IAAAA,YAJS,wBAIKP,KAJL,EAIYG,QAJZ,EAIsB;AAC7BH,MAAAA,KAAK,CAACG,QAAN,GAAiBA,QAAjB;AACD;AANQ,GAZiB;AAoB5BK,EAAAA,OAAO,EAAE;AACDC,IAAAA,KADC,uBAC4B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAApBC,gBAAAA,QAAoB,QAApBA,QAAoB,EAAVC,MAAU,QAAVA,MAAU;AACjCA,gBAAAA,MAAM,CAAC,WAAD,CAAN;AACAD,gBAAAA,QAAQ,CAAC,aAAD,CAAR;;AAFiC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGlC,KAJM;AAKDE,IAAAA,WALC,8BAKwB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAVD,gBAAAA,MAAU,SAAVA,MAAU;AAAA;AAAA;AAAA,uBAENf,IAAI,CAAC;AAAEiB,kBAAAA,IAAI,EAAE;AAAR,iBAAD,CAFE;;AAAA;AAEvBV,gBAAAA,QAFuB;AAG3BQ,gBAAAA,MAAM,CAAC,cAAD,EAAiBR,QAAjB,CAAN;AAH2B;AAAA;;AAAA;AAAA;AAAA;AAK3BW,gBAAAA,OAAO,CAACC,GAAR;;AAL2B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAO9B;AAZM,GApBmB;AAkC5BC,EAAAA,OAAO,EAAE;AACPvB,IAAAA,KAAK,EAALA;AADO;AAlCmB,CAAf,CAAf","sourcesContent":["import Vue from 'vue'\nimport Vuex from 'vuex'\nimport modal from './modules/modal'\nimport store from 'store'\nimport base from '@/config/base.config'\nimport http from '@/api/http'\n\nconst { TOKEN_NAME } = base\n\nVue.use(Vuex)\n\nexport default new Vuex.Store({\n  state: {\n    token: store.get(TOKEN_NAME),\n    userInfo: {}\n  },\n  getters: {\n    userInfo (state) {\n      if (state.token) {\n        return state.userInfo\n      }\n    }\n  },\n  mutations: {\n    SET_TOKEN (state) {\n      state.token = store.get(TOKEN_NAME)\n    },\n    SET_USERINFO (state, userInfo) {\n      state.userInfo = userInfo\n    }\n  },\n  actions: {\n    async login ({ dispatch, commit }) {\n      commit('SET_TOKEN')\n      dispatch('getUserInfo')\n    },\n    async getUserInfo ({ commit }) {\n      try {\n        let userInfo = await http({ type: 'getUserInfo' })\n        commit('SET_USERINFO', userInfo)\n      } catch (err) {\n        console.log(err)\n      }\n    }\n  },\n  modules: {\n    modal\n  }\n})\n"]}]}