{"remainingRequest":"D:\\桌面\\页面练习\\vue-blog\\vue-blog\\node_modules\\babel-loader\\lib\\index.js!D:\\桌面\\页面练习\\vue-blog\\vue-blog\\node_modules\\eslint-loader\\index.js??ref--13-0!D:\\桌面\\页面练习\\vue-blog\\vue-blog\\src\\store\\modules\\likes.js","dependencies":[{"path":"D:\\桌面\\页面练习\\vue-blog\\vue-blog\\src\\store\\modules\\likes.js","mtime":1630806094949},{"path":"D:\\桌面\\页面练习\\vue-blog\\vue-blog\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\桌面\\页面练习\\vue-blog\\vue-blog\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\桌面\\页面练习\\vue-blog\\vue-blog\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkQ6L1x1Njg0Q1x1OTc2Mi9cdTk4NzVcdTk3NjJcdTdFQzNcdTRFNjAvdnVlLWJsb2cvdnVlLWJsb2cvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmluY2x1ZGVzLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLmluY2x1ZGVzLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc3BsaWNlLmpzIjsKaW1wb3J0IHN0b3JlIGZyb20gJ3N0b3JlJzsKaW1wb3J0IFZ1ZSBmcm9tICd2dWUnOwp2YXIgTElLRVNfTkFNRSA9IHByb2Nlc3MuZW52LlZVRV9BUFBfTElLRVNfTkFNRTsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWVzcGFjZWQ6IHRydWUsCiAgc3RhdGU6IHsKICAgIGxpa2VzOiBzdG9yZS5nZXQoTElLRVNfTkFNRSkgfHwgW10KICB9LAogIGdldHRlcnM6IHsKICAgIGhhZExpa2U6IGZ1bmN0aW9uIGhhZExpa2Uoc3RhdGUpIHsKICAgICAgcmV0dXJuIGZ1bmN0aW9uIChhaWQpIHsKICAgICAgICBjb25zb2xlLmxvZyghIXN0YXRlLmxpa2VzLmluY2x1ZGVzKGFpZCkpOwogICAgICAgIHJldHVybiAhIXN0YXRlLmxpa2VzLmluY2x1ZGVzKGFpZCk7CiAgICAgIH07CiAgICB9CiAgfSwKICBtdXRhdGlvbnM6IHsKICAgIENIQU5HRV9MSUtFUzogZnVuY3Rpb24gQ0hBTkdFX0xJS0VTKHN0YXRlKSB7CiAgICAgIHN0YXRlLmxpa2VzID0gc3RvcmUuZ2V0KExJS0VTX05BTUUpOwogICAgfQogIH0sCiAgYWN0aW9uczogewogICAgcHVzaExpa2VzOiBmdW5jdGlvbiBwdXNoTGlrZXMoX3JlZiwgcGF5bG9hZCkgewogICAgICB2YXIgY29tbWl0ID0gX3JlZi5jb21taXQ7CiAgICAgIHZhciBhaWQgPSBwYXlsb2FkLmFpZDsKCiAgICAgIGlmIChhaWQpIHsKICAgICAgICB2YXIgbG9jYWxMaWtlcyA9IHN0b3JlLmdldChMSUtFU19OQU1FKSB8fCBbXTsKICAgICAgICB2YXIgaWR4ID0gbG9jYWxMaWtlcy5pbmRleE9mKGFpZCk7CgogICAgICAgIGlmIChpZHggPT09IC0xKSB7CiAgICAgICAgICBsb2NhbExpa2VzLnB1c2goYWlkKTsKICAgICAgICB9CgogICAgICAgIHN0b3JlLnNldChMSUtFU19OQU1FLCBsb2NhbExpa2VzKTsKICAgICAgICBjb21taXQoJ0NIQU5HRV9MSUtFUycpOwogICAgICB9CiAgICB9LAogICAgcHVsbExpa2VzOiBmdW5jdGlvbiBwdWxsTGlrZXMoX3JlZjIsIHBheWxvYWQpIHsKICAgICAgdmFyIGNvbW1pdCA9IF9yZWYyLmNvbW1pdDsKICAgICAgdmFyIGFpZCA9IHBheWxvYWQuYWlkOwoKICAgICAgaWYgKGFpZCkgewogICAgICAgIHZhciBsb2NhbExpa2VzID0gc3RvcmUuZ2V0KExJS0VTX05BTUUpIHx8IFtdOwogICAgICAgIHZhciBpZHggPSBsb2NhbExpa2VzLmluZGV4T2YoYWlkKTsKCiAgICAgICAgaWYgKGlkeCAhPT0gLTEpIHsKICAgICAgICAgIGxvY2FsTGlrZXMuc3BsaWNlKGlkeCwgMSk7CiAgICAgICAgfQoKICAgICAgICBzdG9yZS5zZXQoTElLRVNfTkFNRSwgbG9jYWxMaWtlcyk7CiAgICAgICAgY29tbWl0KCdDSEFOR0VfTElLRVMnKTsKICAgICAgfQogICAgfSwKICAgIHVwZGF0ZUxpa2VzOiBmdW5jdGlvbiB1cGRhdGVMaWtlcyhfcmVmMywgX3JlZjQpIHsKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICB2YXIgc3RhdGUsIGFpZDsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBzdGF0ZSA9IF9yZWYzLnN0YXRlOwogICAgICAgICAgICAgICAgYWlkID0gX3JlZjQuYWlkOwogICAgICAgICAgICAgICAgY29uc29sZS5sb2coc3RhdGUpOwogICAgICAgICAgICAgICAgVnVlLnByb3RvdHlwZS4kYXBpKHsKICAgICAgICAgICAgICAgICAgdHlwZTogJ2FydGljbGVMaWtlcycsCiAgICAgICAgICAgICAgICAgIGRhdGE6IHsKICAgICAgICAgICAgICAgICAgICBpZDogYWlkCiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlKTsKICAgICAgfSkpKCk7CiAgICB9CiAgfSwKICBtb2R1bGVzOiB7fQp9Ow=="},{"version":3,"sources":["D:/桌面/页面练习/vue-blog/vue-blog/src/store/modules/likes.js"],"names":["store","Vue","LIKES_NAME","process","env","VUE_APP_LIKES_NAME","namespaced","state","likes","get","getters","hadLike","aid","console","log","includes","mutations","CHANGE_LIKES","actions","pushLikes","payload","commit","localLikes","idx","indexOf","push","set","pullLikes","splice","updateLikes","prototype","$api","type","data","id","modules"],"mappings":";;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,GAAP,MAAgB,KAAhB;AACA,IAAMC,UAAU,GAAGC,OAAO,CAACC,GAAR,CAAYC,kBAA/B;AACA,eAAc;AACZC,EAAAA,UAAU,EAAE,IADA;AAEZC,EAAAA,KAAK,EAAE;AACLC,IAAAA,KAAK,EAACR,KAAK,CAACS,GAAN,CAAUP,UAAV,KAAyB;AAD1B,GAFK;AAKZQ,EAAAA,OAAO,EAAC;AACNC,IAAAA,OAAO,EAAC,iBAAAJ,KAAK;AAAA,aAAE,UAAAK,GAAG,EAAE;AAClBC,QAAAA,OAAO,CAACC,GAAR,CAAY,CAAC,CAAEP,KAAK,CAACC,KAAN,CAAYO,QAAZ,CAAqBH,GAArB,CAAf;AACA,eAAO,CAAC,CAAEL,KAAK,CAACC,KAAN,CAAYO,QAAZ,CAAqBH,GAArB,CAAV;AACD,OAHY;AAAA;AADP,GALI;AAWZI,EAAAA,SAAS,EAAE;AACTC,IAAAA,YADS,wBACIV,KADJ,EACU;AACjBA,MAAAA,KAAK,CAACC,KAAN,GAAcR,KAAK,CAACS,GAAN,CAAUP,UAAV,CAAd;AACD;AAHQ,GAXC;AAgBZgB,EAAAA,OAAO,EAAE;AACPC,IAAAA,SADO,2BACYC,OADZ,EACoB;AAAA,UAAhBC,MAAgB,QAAhBA,MAAgB;AACzB,UAAKT,GAAL,GAAYQ,OAAZ,CAAKR,GAAL;;AACA,UAAGA,GAAH,EAAO;AACL,YAAIU,UAAU,GAAGtB,KAAK,CAACS,GAAN,CAAUP,UAAV,KAAyB,EAA1C;AACA,YAAIqB,GAAG,GAAGD,UAAU,CAACE,OAAX,CAAmBZ,GAAnB,CAAV;;AACA,YAAGW,GAAG,KAAK,CAAC,CAAZ,EAAc;AACZD,UAAAA,UAAU,CAACG,IAAX,CAAgBb,GAAhB;AACD;;AACDZ,QAAAA,KAAK,CAAC0B,GAAN,CAAUxB,UAAV,EAAqBoB,UAArB;AACAD,QAAAA,MAAM,CAAC,cAAD,CAAN;AACD;AACF,KAZM;AAaPM,IAAAA,SAbO,4BAaYP,OAbZ,EAaoB;AAAA,UAAhBC,MAAgB,SAAhBA,MAAgB;AACzB,UAAKT,GAAL,GAAYQ,OAAZ,CAAKR,GAAL;;AACA,UAAGA,GAAH,EAAO;AACL,YAAIU,UAAU,GAAGtB,KAAK,CAACS,GAAN,CAAUP,UAAV,KAAyB,EAA1C;AACA,YAAIqB,GAAG,GAAGD,UAAU,CAACE,OAAX,CAAmBZ,GAAnB,CAAV;;AACA,YAAGW,GAAG,KAAK,CAAC,CAAZ,EAAc;AACZD,UAAAA,UAAU,CAACM,MAAX,CAAkBL,GAAlB,EAAsB,CAAtB;AACD;;AACDvB,QAAAA,KAAK,CAAC0B,GAAN,CAAUxB,UAAV,EAAqBoB,UAArB;AACAD,QAAAA,MAAM,CAAC,cAAD,CAAN;AACD;AACF,KAxBM;AAyBDQ,IAAAA,WAzBC,qCAyByB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAbtB,gBAAAA,KAAa,SAAbA,KAAa;AAALK,gBAAAA,GAAK,SAALA,GAAK;AAC9BC,gBAAAA,OAAO,CAACC,GAAR,CAAYP,KAAZ;AACAN,gBAAAA,GAAG,CAAC6B,SAAJ,CAAcC,IAAd,CAAmB;AAACC,kBAAAA,IAAI,EAAC,cAAN;AAAqBC,kBAAAA,IAAI,EAAC;AAACC,oBAAAA,EAAE,EAACtB;AAAJ;AAA1B,iBAAnB;;AAF8B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAG/B;AA5BM,GAhBG;AA+CZuB,EAAAA,OAAO,EAAE;AA/CG,CAAd","sourcesContent":["import store from 'store'\r\nimport Vue from 'vue'\r\nconst LIKES_NAME = process.env.VUE_APP_LIKES_NAME\r\nexport default{\r\n  namespaced: true,\r\n  state: {\r\n    likes:store.get(LIKES_NAME) || []\r\n  },\r\n  getters:{\r\n    hadLike:state=>aid=>{\r\n      console.log(!!(state.likes.includes(aid)));\r\n      return !!(state.likes.includes(aid))\r\n    }\r\n  },\r\n  mutations: {\r\n    CHANGE_LIKES(state){\r\n      state.likes = store.get(LIKES_NAME)\r\n    }\r\n  },\r\n  actions: {\r\n    pushLikes({commit},payload){\r\n      let {aid} = payload\r\n      if(aid){\r\n        let localLikes = store.get(LIKES_NAME) || []\r\n        let idx = localLikes.indexOf(aid)\r\n        if(idx === -1){\r\n          localLikes.push(aid)\r\n        }\r\n        store.set(LIKES_NAME,localLikes)\r\n        commit('CHANGE_LIKES')\r\n      }\r\n    },\r\n    pullLikes({commit},payload){\r\n      let {aid} = payload\r\n      if(aid){\r\n        let localLikes = store.get(LIKES_NAME) || []\r\n        let idx = localLikes.indexOf(aid)\r\n        if(idx !== -1){\r\n          localLikes.splice(idx,1)\r\n        }\r\n        store.set(LIKES_NAME,localLikes)  \r\n        commit('CHANGE_LIKES')\r\n      }\r\n    },\r\n    async updateLikes({state},{aid}){\r\n      console.log(state);\r\n      Vue.prototype.$api({type:'articleLikes',data:{id:aid}})\r\n    }\r\n    \r\n  },\r\n  modules: {\r\n  }\r\n}"]}]}