{"remainingRequest":"D:\\桌面\\页面练习\\vue-blog\\vue-blog\\node_modules\\thread-loader\\dist\\cjs.js!D:\\桌面\\页面练习\\vue-blog\\vue-blog\\node_modules\\babel-loader\\lib\\index.js!D:\\桌面\\页面练习\\vue-blog\\vue-blog\\node_modules\\eslint-loader\\index.js??ref--13-0!D:\\桌面\\页面练习\\vue-blog\\vue-blog\\src\\util\\encrypt.js","dependencies":[{"path":"D:\\桌面\\页面练习\\vue-blog\\vue-blog\\src\\util\\encrypt.js","mtime":1629708274933},{"path":"D:\\桌面\\页面练习\\vue-blog\\vue-blog\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\桌面\\页面练习\\vue-blog\\vue-blog\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\桌面\\页面练习\\vue-blog\\vue-blog\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\桌面\\页面练习\\vue-blog\\vue-blog\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkQ6L1x1Njg0Q1x1OTc2Mi9cdTk4NzVcdTk3NjJcdTdFQzNcdTRFNjAvdnVlLWJsb2cvdnVlLWJsb2cvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC5leGVjLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnJlcGxhY2UuanMiOwppbXBvcnQgc3RvcmUgZnJvbSAnc3RvcmUnOwppbXBvcnQgSlNFbmNyeXB0IGZyb20gJ2pzZW5jcnlwdCc7CmltcG9ydCBpbnN0YW5jZSBmcm9tICdAL2FwaS9jb21tb24nOwpleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBlbmNyeXB0KF94KSB7CiAgcmV0dXJuIF9lbmNyeXB0LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7Cn0KCmZ1bmN0aW9uIF9lbmNyeXB0KCkgewogIF9lbmNyeXB0ID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKHZhbHVlKSB7CiAgICB2YXIga2V5LCByZXN1bHQsIF9lbmNyeXB0MjsKCiAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgd2hpbGUgKDEpIHsKICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgIGtleSA9IHN0b3JlLmdldChwcm9jZXNzLmVudi5WVUVfQVBQX1BVQktFWV9OQU1FKTsKICAgICAgICAgICAgX2NvbnRleHQucHJldiA9IDE7CgogICAgICAgICAgICBpZiAoISgha2V5IHx8IGtleSA9PT0gJ3VuZGVmaW5lZCcpKSB7CiAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDEwOwogICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICB9CgogICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNTsKICAgICAgICAgICAgcmV0dXJuIGluc3RhbmNlLmdldCgnL2tleXMnKTsKCiAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgIHJlc3VsdCA9IF9jb250ZXh0LnNlbnQ7CiAgICAgICAgICAgIGtleSA9IHJlc3VsdC5wdWJLZXk7CiAgICAgICAgICAgIGtleSA9IGtleS5yZXBsYWNlKC9cLiArL2csICcnKTsKICAgICAgICAgICAga2V5ID0ga2V5LnJlcGxhY2UoL1tcclxuXS9nLCAnJyk7CiAgICAgICAgICAgIHN0b3JlLnNldChwcm9jZXNzLmVudi5WVUVfQVBQX1BVQktFWV9OQU1FLCBrZXkpOwoKICAgICAgICAgIGNhc2UgMTA6CiAgICAgICAgICAgIF9lbmNyeXB0MiA9IG5ldyBKU0VuY3J5cHQoKTsKCiAgICAgICAgICAgIF9lbmNyeXB0Mi5zZXRQdWJsaWNLZXkoa2V5KTsKCiAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5hYnJ1cHQoInJldHVybiIsIF9lbmNyeXB0Mi5lbmNyeXB0KHZhbHVlKSk7CgogICAgICAgICAgY2FzZSAxNToKICAgICAgICAgICAgX2NvbnRleHQucHJldiA9IDE1OwogICAgICAgICAgICBfY29udGV4dC50MCA9IF9jb250ZXh0WyJjYXRjaCJdKDEpOwogICAgICAgICAgICBjb25zb2xlLmxvZyhfY29udGV4dC50MCk7CgogICAgICAgICAgY2FzZSAxODoKICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgfQogICAgICB9CiAgICB9LCBfY2FsbGVlLCBudWxsLCBbWzEsIDE1XV0pOwogIH0pKTsKICByZXR1cm4gX2VuY3J5cHQuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKfQ=="},{"version":3,"sources":["D:/桌面/页面练习/vue-blog/vue-blog/src/util/encrypt.js"],"names":["store","JSEncrypt","instance","encrypt","value","key","get","process","env","VUE_APP_PUBKEY_NAME","result","pubKey","replace","set","setPublicKey","console","log"],"mappings":";;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,SAAP,MAAsB,WAAtB;AACA,OAAOC,QAAP,MAAqB,cAArB;AAEA,wBACiBC,OADjB;AAAA;AAAA;;;qEACE,iBAAuBC,KAAvB;AAAA;;AAAA;AAAA;AAAA;AAAA;AACMC,YAAAA,GADN,GACYL,KAAK,CAACM,GAAN,CAAUC,OAAO,CAACC,GAAR,CAAYC,mBAAtB,CADZ;AAAA;;AAAA,kBAGQ,CAACJ,GAAD,IAAQA,GAAG,KAAK,WAHxB;AAAA;AAAA;AAAA;;AAAA;AAAA,mBAIyBH,QAAQ,CAACI,GAAT,CAAa,OAAb,CAJzB;;AAAA;AAIUI,YAAAA,MAJV;AAKML,YAAAA,GAAG,GAAGK,MAAM,CAACC,MAAb;AACAN,YAAAA,GAAG,GAAGA,GAAG,CAACO,OAAJ,CAAY,OAAZ,EAAqB,EAArB,CAAN;AACAP,YAAAA,GAAG,GAAGA,GAAG,CAACO,OAAJ,CAAY,SAAZ,EAAuB,EAAvB,CAAN;AACAZ,YAAAA,KAAK,CAACa,GAAN,CAAUN,OAAO,CAACC,GAAR,CAAYC,mBAAtB,EAA2CJ,GAA3C;;AARN;AAUQF,YAAAA,SAVR,GAUkB,IAAIF,SAAJ,EAVlB;;AAWIE,YAAAA,SAAO,CAACW,YAAR,CAAqBT,GAArB;;AAXJ,6CAYWF,SAAO,CAACA,OAAR,CAAgBC,KAAhB,CAZX;;AAAA;AAAA;AAAA;AAcIW,YAAAA,OAAO,CAACC,GAAR;;AAdJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,G","sourcesContent":["import store from 'store'\r\nimport JSEncrypt from 'jsencrypt'\r\nimport instance from '@/api/common'\r\n\r\nexport default \r\n  async function encrypt(value) {\r\n    let key = store.get(process.env.VUE_APP_PUBKEY_NAME)\r\n    try {\r\n      if (!key || key === 'undefined') {\r\n        let result = await instance.get('/keys')\r\n        key = result.pubKey\r\n        key = key.replace(/\\. +/g, '')\r\n        key = key.replace(/[\\r\\n]/g, '')\r\n        store.set(process.env.VUE_APP_PUBKEY_NAME, key)\r\n      }\r\n      let encrypt = new JSEncrypt()\r\n      encrypt.setPublicKey(key)\r\n      return encrypt.encrypt(value)\r\n    } catch (err) {\r\n      console.log(err)\r\n    }\r\n  }\r\n"]}]}