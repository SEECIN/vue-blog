{"remainingRequest":"D:\\桌面\\页面练习\\vue-blog\\vue-blog\\node_modules\\babel-loader\\lib\\index.js!D:\\桌面\\页面练习\\vue-blog\\vue-blog\\node_modules\\eslint-loader\\index.js??ref--13-0!D:\\桌面\\页面练习\\vue-blog\\vue-blog\\src\\store\\modules\\likes.js","dependencies":[{"path":"D:\\桌面\\页面练习\\vue-blog\\vue-blog\\src\\store\\modules\\likes.js","mtime":1629776140330},{"path":"D:\\桌面\\页面练习\\vue-blog\\vue-blog\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\桌面\\页面练习\\vue-blog\\vue-blog\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\桌面\\页面练习\\vue-blog\\vue-blog\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkQ6L1x1Njg0Q1x1OTc2Mi9cdTk4NzVcdTk3NjJcdTdFQzNcdTRFNjAvdnVlLWJsb2cvdnVlLWJsb2cvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmluY2x1ZGVzLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLmluY2x1ZGVzLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc3BsaWNlLmpzIjsKaW1wb3J0IHN0b3JlIGZyb20gJ3N0b3JlJzsKaW1wb3J0IFZ1ZSBmcm9tICd2dWUnOwp2YXIgTElLRVNfTkFNRSA9IHByb2Nlc3MuZW52LlZVRV9BUFBfTElLRVNfTkFNRTsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWVzcGFjZWQ6IHRydWUsCiAgc3RhdGU6IHsKICAgIGxpa2VzOiBzdG9yZS5nZXQoTElLRVNfTkFNRSkgfHwgW10KICB9LAogIGdldHRlcnM6IHsKICAgIGhhZExpa2U6IGZ1bmN0aW9uIGhhZExpa2Uoc3RhdGUpIHsKICAgICAgcmV0dXJuIGZ1bmN0aW9uIChhaWQpIHsKICAgICAgICByZXR1cm4gISFzdGF0ZS5saWtlcy5pbmNsdWRlcyhhaWQpOwogICAgICB9OwogICAgfQogIH0sCiAgbXV0YXRpb25zOiB7CiAgICBDSEFOR0VfTElLRVM6IGZ1bmN0aW9uIENIQU5HRV9MSUtFUyhzdGF0ZSkgewogICAgICBzdGF0ZS5saWtlcyA9IHN0b3JlLmdldChMSUtFU19OQU1FKTsKICAgIH0KICB9LAogIGFjdGlvbnM6IHsKICAgIHB1c2hMaWtlczogZnVuY3Rpb24gcHVzaExpa2VzKF9yZWYsIHBheWxvYWQpIHsKICAgICAgdmFyIGNvbW1pdCA9IF9yZWYuY29tbWl0OwogICAgICB2YXIgYWlkID0gcGF5bG9hZC5haWQ7CgogICAgICBpZiAoYWlkKSB7CiAgICAgICAgdmFyIGxvY2FsTGlrZXMgPSBzdG9yZS5nZXQoTElLRVNfTkFNRSkgfHwgW107CiAgICAgICAgdmFyIGlkeCA9IGxvY2FsTGlrZXMuaW5kZXhPZihhaWQpOwoKICAgICAgICBpZiAoaWR4ID09PSAtMSkgewogICAgICAgICAgbG9jYWxMaWtlcy5wdXNoKGFpZCk7CiAgICAgICAgfQoKICAgICAgICBzdG9yZS5zZXQoTElLRVNfTkFNRSwgbG9jYWxMaWtlcyk7CiAgICAgICAgY29tbWl0KCdDSEFOR0VfTElLRVMnKTsKICAgICAgfQogICAgfSwKICAgIHB1bGxMaWtlczogZnVuY3Rpb24gcHVsbExpa2VzKF9yZWYyLCBwYXlsb2FkKSB7CiAgICAgIHZhciBjb21taXQgPSBfcmVmMi5jb21taXQ7CiAgICAgIHZhciBhaWQgPSBwYXlsb2FkLmFpZDsKCiAgICAgIGlmIChhaWQpIHsKICAgICAgICB2YXIgbG9jYWxMaWtlcyA9IHN0b3JlLmdldChMSUtFU19OQU1FKSB8fCBbXTsKICAgICAgICB2YXIgaWR4ID0gbG9jYWxMaWtlcy5pbmRleE9mKGFpZCk7CgogICAgICAgIGlmIChpZHggIT09IC0xKSB7CiAgICAgICAgICBsb2NhbExpa2VzLnNwbGljZShpZHgsIDEpOwogICAgICAgIH0KCiAgICAgICAgc3RvcmUuc2V0KExJS0VTX05BTUUsIGxvY2FsTGlrZXMpOwogICAgICAgIGNvbW1pdCgnQ0hBTkdFX0xJS0VTJyk7CiAgICAgIH0KICAgIH0sCiAgICB1cGRhdGVMaWtlczogZnVuY3Rpb24gdXBkYXRlTGlrZXMoX3JlZjMsIF9yZWY0KSB7CiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgICAgdmFyIHN0YXRlLCBhaWQ7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgc3RhdGUgPSBfcmVmMy5zdGF0ZTsKICAgICAgICAgICAgICAgIGFpZCA9IF9yZWY0LmFpZDsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHN0YXRlKTsKICAgICAgICAgICAgICAgIFZ1ZS5wcm90b3R5cGUuJGFwaSh7CiAgICAgICAgICAgICAgICAgIHR5cGU6ICdhcnRpY2xlTGlrZXMnLAogICAgICAgICAgICAgICAgICBkYXRhOiB7CiAgICAgICAgICAgICAgICAgICAgaWQ6IGFpZAogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSk7CiAgICAgIH0pKSgpOwogICAgfQogIH0sCiAgbW9kdWxlczoge30KfTs="},{"version":3,"sources":["D:/桌面/页面练习/vue-blog/vue-blog/src/store/modules/likes.js"],"names":["store","Vue","LIKES_NAME","process","env","VUE_APP_LIKES_NAME","namespaced","state","likes","get","getters","hadLike","aid","includes","mutations","CHANGE_LIKES","actions","pushLikes","payload","commit","localLikes","idx","indexOf","push","set","pullLikes","splice","updateLikes","console","log","prototype","$api","type","data","id","modules"],"mappings":";;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,GAAP,MAAgB,KAAhB;AACA,IAAMC,UAAU,GAAGC,OAAO,CAACC,GAAR,CAAYC,kBAA/B;AACA,eAAc;AACZC,EAAAA,UAAU,EAAE,IADA;AAEZC,EAAAA,KAAK,EAAE;AACLC,IAAAA,KAAK,EAACR,KAAK,CAACS,GAAN,CAAUP,UAAV,KAAyB;AAD1B,GAFK;AAKZQ,EAAAA,OAAO,EAAC;AACNC,IAAAA,OAAO,EAAC,iBAAAJ,KAAK;AAAA,aAAE,UAAAK,GAAG,EAAE;AAClB,eAAO,CAAC,CAAEL,KAAK,CAACC,KAAN,CAAYK,QAAZ,CAAqBD,GAArB,CAAV;AACD,OAFY;AAAA;AADP,GALI;AAUZE,EAAAA,SAAS,EAAE;AACTC,IAAAA,YADS,wBACIR,KADJ,EACU;AACjBA,MAAAA,KAAK,CAACC,KAAN,GAAcR,KAAK,CAACS,GAAN,CAAUP,UAAV,CAAd;AACD;AAHQ,GAVC;AAeZc,EAAAA,OAAO,EAAE;AACPC,IAAAA,SADO,2BACYC,OADZ,EACoB;AAAA,UAAhBC,MAAgB,QAAhBA,MAAgB;AACzB,UAAKP,GAAL,GAAYM,OAAZ,CAAKN,GAAL;;AACA,UAAGA,GAAH,EAAO;AACL,YAAIQ,UAAU,GAAGpB,KAAK,CAACS,GAAN,CAAUP,UAAV,KAAyB,EAA1C;AACA,YAAImB,GAAG,GAAGD,UAAU,CAACE,OAAX,CAAmBV,GAAnB,CAAV;;AACA,YAAGS,GAAG,KAAK,CAAC,CAAZ,EAAc;AACZD,UAAAA,UAAU,CAACG,IAAX,CAAgBX,GAAhB;AACD;;AACDZ,QAAAA,KAAK,CAACwB,GAAN,CAAUtB,UAAV,EAAqBkB,UAArB;AACAD,QAAAA,MAAM,CAAC,cAAD,CAAN;AACD;AACF,KAZM;AAaPM,IAAAA,SAbO,4BAaYP,OAbZ,EAaoB;AAAA,UAAhBC,MAAgB,SAAhBA,MAAgB;AACzB,UAAKP,GAAL,GAAYM,OAAZ,CAAKN,GAAL;;AACA,UAAGA,GAAH,EAAO;AACL,YAAIQ,UAAU,GAAGpB,KAAK,CAACS,GAAN,CAAUP,UAAV,KAAyB,EAA1C;AACA,YAAImB,GAAG,GAAGD,UAAU,CAACE,OAAX,CAAmBV,GAAnB,CAAV;;AACA,YAAGS,GAAG,KAAK,CAAC,CAAZ,EAAc;AACZD,UAAAA,UAAU,CAACM,MAAX,CAAkBL,GAAlB,EAAsB,CAAtB;AACD;;AACDrB,QAAAA,KAAK,CAACwB,GAAN,CAAUtB,UAAV,EAAqBkB,UAArB;AACAD,QAAAA,MAAM,CAAC,cAAD,CAAN;AACD;AACF,KAxBM;AAyBDQ,IAAAA,WAzBC,qCAyByB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAbpB,gBAAAA,KAAa,SAAbA,KAAa;AAALK,gBAAAA,GAAK,SAALA,GAAK;AAC9BgB,gBAAAA,OAAO,CAACC,GAAR,CAAYtB,KAAZ;AACAN,gBAAAA,GAAG,CAAC6B,SAAJ,CAAcC,IAAd,CAAmB;AAACC,kBAAAA,IAAI,EAAC,cAAN;AAAqBC,kBAAAA,IAAI,EAAC;AAACC,oBAAAA,EAAE,EAACtB;AAAJ;AAA1B,iBAAnB;;AAF8B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAG/B;AA5BM,GAfG;AA8CZuB,EAAAA,OAAO,EAAE;AA9CG,CAAd","sourcesContent":["import store from 'store'\r\nimport Vue from 'vue'\r\nconst LIKES_NAME = process.env.VUE_APP_LIKES_NAME\r\nexport default{\r\n  namespaced: true,\r\n  state: {\r\n    likes:store.get(LIKES_NAME) || []\r\n  },\r\n  getters:{\r\n    hadLike:state=>aid=>{\r\n      return !!(state.likes.includes(aid))\r\n    }\r\n  },\r\n  mutations: {\r\n    CHANGE_LIKES(state){\r\n      state.likes = store.get(LIKES_NAME)\r\n    }\r\n  },\r\n  actions: {\r\n    pushLikes({commit},payload){\r\n      let {aid} = payload\r\n      if(aid){\r\n        let localLikes = store.get(LIKES_NAME) || []\r\n        let idx = localLikes.indexOf(aid)\r\n        if(idx === -1){\r\n          localLikes.push(aid)\r\n        }\r\n        store.set(LIKES_NAME,localLikes)\r\n        commit('CHANGE_LIKES')\r\n      }\r\n    },\r\n    pullLikes({commit},payload){\r\n      let {aid} = payload\r\n      if(aid){\r\n        let localLikes = store.get(LIKES_NAME) || []\r\n        let idx = localLikes.indexOf(aid)\r\n        if(idx !== -1){\r\n          localLikes.splice(idx,1)\r\n        }\r\n        store.set(LIKES_NAME,localLikes)  \r\n        commit('CHANGE_LIKES')\r\n      }\r\n    },\r\n    async updateLikes({state},{aid}){\r\n      console.log(state);\r\n      Vue.prototype.$api({type:'articleLikes',data:{id:aid}})\r\n    }\r\n    \r\n  },\r\n  modules: {\r\n  }\r\n}"]}]}