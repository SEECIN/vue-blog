{"remainingRequest":"D:\\桌面\\页面练习\\vue-blog\\vue-blog\\node_modules\\babel-loader\\lib\\index.js!D:\\桌面\\页面练习\\vue-blog\\vue-blog\\node_modules\\eslint-loader\\index.js??ref--13-0!D:\\桌面\\页面练习\\vue-blog\\vue-blog\\src\\api\\common.js","dependencies":[{"path":"D:\\桌面\\页面练习\\vue-blog\\vue-blog\\src\\api\\common.js","mtime":1628652840940},{"path":"D:\\桌面\\页面练习\\vue-blog\\vue-blog\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\桌面\\页面练习\\vue-blog\\vue-blog\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\桌面\\页面练习\\vue-blog\\vue-blog\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkQ6L1x1Njg0Q1x1OTc2Mi9cdTk4NzVcdTk3NjJcdTdFQzNcdTRFNjAvdnVlLWJsb2cvdnVlLWJsb2cvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgYXhpb3MgZnJvbSAiYXhpb3MiOwppbXBvcnQgYmFzZSBmcm9tICdAL2NvbmZpZy9iYXNlLmNvbmZpZyc7CmltcG9ydCBzdG9yZSBmcm9tICJzdG9yZSI7CnZhciBCQVNFVVJMID0gYmFzZS5CQVNFVVJMLAogICAgVE9LRU5fTkFNRSA9IGJhc2UuVE9LRU5fTkFNRTsgLy9heGlvc+m7mOiupOWAvAoKYXhpb3MuZGVmYXVsdHMuYmFzZVVSTCA9IEJBU0VVUkw7CnZhciBpbnN0YW5jZSA9IGF4aW9zLmNyZWF0ZSgpOyAvL3JlcXVlc3Qg5oum5oiq5ZmoCgppbnN0YW5jZS5pbnRlcmNlcHRvcnMucmVxdWVzdC51c2UoIC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgdmFyIF9yZWYgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoY29uZmlnKSB7CiAgICB2YXIgdG9rZW47CiAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgd2hpbGUgKDEpIHsKICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgIGNvbnNvbGUubG9nKCk7CiAgICAgICAgICAgIHRva2VuID0gc3RvcmUuZ2V0KFRPS0VOX05BTUUpOwoKICAgICAgICAgICAgaWYgKHRva2VuKSB7CiAgICAgICAgICAgICAgY29uZmlnLmhlYWRlcnNbJ0F1dGhvcml6YXRpb24nXSA9ICJCZWFyZXIgIi5jb25jYXQodG9rZW4pOwogICAgICAgICAgICB9CgogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuYWJydXB0KCJyZXR1cm4iLCBjb25maWcpOwoKICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgfQogICAgICB9CiAgICB9LCBfY2FsbGVlKTsKICB9KSk7CgogIHJldHVybiBmdW5jdGlvbiAoX3gpIHsKICAgIHJldHVybiBfcmVmLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgfTsKfSgpLCBmdW5jdGlvbiAoZXJyKSB7CiAgcmV0dXJuIFByb21pc2UucmVqZWN0KGVycik7Cn0pOyAvL3Jlc3BvbnNlIOaLpuaIquWZqAoKaW5zdGFuY2UuaW50ZXJjZXB0b3JzLnJlc3BvbnNlLnVzZShmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAvL+WJpeemu+acgOWkluWxggogIHZhciByZXN1bHQgPSByZXNwb25zZS5kYXRhOwogIHJldHVybiByZXN1bHQgPT09IG51bGwgfHwgcmVzdWx0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXN1bHQuZGF0YTsKfSwgZnVuY3Rpb24gKGVycikgewogIHJldHVybiBQcm9taXNlLnJlamVjdChlcnIpOwp9KTsKZXhwb3J0IGRlZmF1bHQgaW5zdGFuY2U7"},{"version":3,"sources":["D:/桌面/页面练习/vue-blog/vue-blog/src/api/common.js"],"names":["axios","base","store","BASEURL","TOKEN_NAME","defaults","baseURL","instance","create","interceptors","request","use","config","console","log","token","get","headers","err","Promise","reject","response","result","data"],"mappings":";;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,IAAP,MAAiB,sBAAjB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAEA,IAAOC,OAAP,GAA4BF,IAA5B,CAAOE,OAAP;AAAA,IAAeC,UAAf,GAA4BH,IAA5B,CAAeG,UAAf,C,CACA;;AACAJ,KAAK,CAACK,QAAN,CAAeC,OAAf,GAAyBH,OAAzB;AACA,IAAII,QAAQ,GAAGP,KAAK,CAACQ,MAAN,EAAf,C,CAEA;;AACAD,QAAQ,CAACE,YAAT,CAAsBC,OAAtB,CAA8BC,GAA9B;AAAA,qEAAkC,iBAAMC,MAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAChCC,YAAAA,OAAO,CAACC,GAAR;AACIC,YAAAA,KAF4B,GAEpBb,KAAK,CAACc,GAAN,CAAUZ,UAAV,CAFoB;;AAGhC,gBAAIW,KAAJ,EAAW;AACTH,cAAAA,MAAM,CAACK,OAAP,CAAe,eAAf,qBAA4CF,KAA5C;AACD;;AAL+B,6CAMzBH,MANyB;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAlC;;AAAA;AAAA;AAAA;AAAA,KAOG,UAAAM,GAAG,EAAI;AACR,SAAOC,OAAO,CAACC,MAAR,CAAeF,GAAf,CAAP;AACD,CATD,E,CAWA;;AACAX,QAAQ,CAACE,YAAT,CAAsBY,QAAtB,CAA+BV,GAA/B,CAAmC,UAAAU,QAAQ,EAAI;AAC7C;AACA,MAAIC,MAAM,GAAGD,QAAQ,CAACE,IAAtB;AACA,SAAOD,MAAP,aAAOA,MAAP,uBAAOA,MAAM,CAAEC,IAAf;AACD,CAJD,EAIG,UAAAL,GAAG,EAAI;AACR,SAAOC,OAAO,CAACC,MAAR,CAAeF,GAAf,CAAP;AACD,CAND;AAOA,eAAeX,QAAf","sourcesContent":["import axios from \"axios\"\r\nimport base from '@/config/base.config'\r\nimport store from \"store\"\r\n\r\nconst {BASEURL,TOKEN_NAME} =base\r\n//axios默认值\r\naxios.defaults.baseURL = BASEURL;\r\nlet instance = axios.create()\r\n\r\n//request 拦截器\r\ninstance.interceptors.request.use(async config => {\r\n  console.log();\r\n  let token = store.get(TOKEN_NAME)\r\n  if (token) {\r\n    config.headers['Authorization'] = `Bearer ${token}`\r\n  }\r\n  return config\r\n}, err => {\r\n  return Promise.reject(err)\r\n})\r\n\r\n//response 拦截器\r\ninstance.interceptors.response.use(response => {\r\n  //剥离最外层\r\n  let result = response.data\r\n  return result?.data\r\n}, err => {\r\n  return Promise.reject(err)\r\n})\r\nexport default instance"]}]}