{"remainingRequest":"D:\\桌面\\页面练习\\vue-blog\\vue-blog\\node_modules\\thread-loader\\dist\\cjs.js!D:\\桌面\\页面练习\\vue-blog\\vue-blog\\node_modules\\babel-loader\\lib\\index.js!D:\\桌面\\页面练习\\vue-blog\\vue-blog\\node_modules\\eslint-loader\\index.js??ref--13-0!D:\\桌面\\页面练习\\vue-blog\\vue-blog\\src\\api\\common.js","dependencies":[{"path":"D:\\桌面\\页面练习\\vue-blog\\vue-blog\\src\\api\\common.js","mtime":1632385055895},{"path":"D:\\桌面\\页面练习\\vue-blog\\vue-blog\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\桌面\\页面练习\\vue-blog\\vue-blog\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\桌面\\页面练习\\vue-blog\\vue-blog\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\桌面\\页面练习\\vue-blog\\vue-blog\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkQ6L1x1Njg0Q1x1OTc2Mi9cdTk4NzVcdTk3NjJcdTdFQzNcdTRFNjAvdnVlLWJsb2cvdnVlLWJsb2cvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgYXhpb3MgZnJvbSAiYXhpb3MiOwppbXBvcnQgc3RvcmUgZnJvbSAic3RvcmUiOyAvL2F4aW9z6buY6K6k5YC8Cgp2YXIgaW5zdGFuY2UgPSBheGlvcy5jcmVhdGUoewogIGJhc2VVUkw6IHByb2Nlc3MuZW52LlZVRV9BUFBfQkFTRV9VUkwsCiAgdGltZW91dDogcHJvY2Vzcy5lbnYuVlVFX0FQUF9USU1FX09VVCwKICBoZWFkZXJzOiB7CiAgICAnWC1SZXF1ZXN0ZWQtV2l0aCc6ICdYTUxIdHRwUmVxdWVzdCcKICB9Cn0pOyAvL3JlcXVlc3Qg5oum5oiq5ZmoCgppbnN0YW5jZS5pbnRlcmNlcHRvcnMucmVxdWVzdC51c2UoIC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgdmFyIF9yZWYgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoY29uZmlnKSB7CiAgICB2YXIgdG9rZW47CiAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgd2hpbGUgKDEpIHsKICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgIHRva2VuID0gc3RvcmUuZ2V0KHByb2Nlc3MuZW52LlZVRV9BUFBfVE9LRU5fTkFNRSk7CgogICAgICAgICAgICBpZiAodG9rZW4pIHsKICAgICAgICAgICAgICBjb25maWcuaGVhZGVyc1snQXV0aG9yaXphdGlvbiddID0gIkJlYXJlciAiLmNvbmNhdCh0b2tlbik7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5hYnJ1cHQoInJldHVybiIsIGNvbmZpZyk7CgogICAgICAgICAgY2FzZSAzOgogICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0sIF9jYWxsZWUpOwogIH0pKTsKCiAgcmV0dXJuIGZ1bmN0aW9uIChfeCkgewogICAgcmV0dXJuIF9yZWYuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICB9Owp9KCksIGZ1bmN0aW9uIChlcnIpIHsKICByZXR1cm4gUHJvbWlzZS5yZWplY3QoZXJyKTsKfSk7IC8vcmVzcG9uc2Ug5oum5oiq5ZmoCgppbnN0YW5jZS5pbnRlcmNlcHRvcnMucmVzcG9uc2UudXNlKGZ1bmN0aW9uIChyZXNwb25zZSkgewogIC8v5Yml56a75pyA5aSW5bGCCiAgdmFyIHJlc3VsdCA9IHJlc3BvbnNlLmRhdGE7CiAgcmV0dXJuIHJlc3VsdCA9PT0gbnVsbCB8fCByZXN1bHQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlc3VsdC5kYXRhOwp9LCBmdW5jdGlvbiAoZXJyKSB7CiAgcmV0dXJuIFByb21pc2UucmVqZWN0KGVycik7Cn0pOwpleHBvcnQgZGVmYXVsdCBpbnN0YW5jZTs="},{"version":3,"sources":["D:/桌面/页面练习/vue-blog/vue-blog/src/api/common.js"],"names":["axios","store","instance","create","baseURL","process","env","VUE_APP_BASE_URL","timeout","VUE_APP_TIME_OUT","headers","interceptors","request","use","config","token","get","VUE_APP_TOKEN_NAME","err","Promise","reject","response","result","data"],"mappings":";;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,KAAP,MAAkB,OAAlB,C,CAGA;;AACA,IAAMC,QAAQ,GAAGF,KAAK,CAACG,MAAN,CAAa;AAC5BC,EAAAA,OAAO,EAAEC,OAAO,CAACC,GAAR,CAAYC,gBADO;AAE5BC,EAAAA,OAAO,EAAEH,OAAO,CAACC,GAAR,CAAYG,gBAFO;AAG5BC,EAAAA,OAAO,EAAE;AAAE,wBAAoB;AAAtB;AAHmB,CAAb,CAAjB,C,CAMA;;AACAR,QAAQ,CAACS,YAAT,CAAsBC,OAAtB,CAA8BC,GAA9B;AAAA,qEAAkC,iBAAMC,MAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAC5BC,YAAAA,KAD4B,GACpBd,KAAK,CAACe,GAAN,CAAUX,OAAO,CAACC,GAAR,CAAYW,kBAAtB,CADoB;;AAEhC,gBAAIF,KAAJ,EAAW;AACTD,cAAAA,MAAM,CAACJ,OAAP,CAAe,eAAf,qBAA4CK,KAA5C;AACD;;AAJ+B,6CAKzBD,MALyB;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAlC;;AAAA;AAAA;AAAA;AAAA,KAMG,UAAAI,GAAG,EAAI;AACR,SAAOC,OAAO,CAACC,MAAR,CAAeF,GAAf,CAAP;AACD,CARD,E,CAUA;;AACAhB,QAAQ,CAACS,YAAT,CAAsBU,QAAtB,CAA+BR,GAA/B,CAAmC,UAAAQ,QAAQ,EAAI;AAC7C;AACA,MAAIC,MAAM,GAAGD,QAAQ,CAACE,IAAtB;AACA,SAAOD,MAAP,aAAOA,MAAP,uBAAOA,MAAM,CAAEC,IAAf;AACD,CAJD,EAIG,UAAAL,GAAG,EAAI;AACR,SAAOC,OAAO,CAACC,MAAR,CAAeF,GAAf,CAAP;AACD,CAND;AAOA,eAAehB,QAAf","sourcesContent":["import axios from \"axios\"\r\nimport store from \"store\"\r\n\r\n\r\n//axios默认值\r\nconst instance = axios.create({\r\n  baseURL: process.env.VUE_APP_BASE_URL,\r\n  timeout: process.env.VUE_APP_TIME_OUT,\r\n  headers: { 'X-Requested-With': 'XMLHttpRequest' }\r\n})\r\n\r\n//request 拦截器\r\ninstance.interceptors.request.use(async config => {\r\n  let token = store.get(process.env.VUE_APP_TOKEN_NAME)\r\n  if (token) {\r\n    config.headers['Authorization'] = `Bearer ${token}`\r\n  }\r\n  return config\r\n}, err => {\r\n  return Promise.reject(err)\r\n})\r\n\r\n//response 拦截器\r\ninstance.interceptors.response.use(response => {\r\n  //剥离最外层\r\n  let result = response.data\r\n  return result?.data\r\n}, err => {\r\n  return Promise.reject(err)\r\n})\r\nexport default instance"]}]}