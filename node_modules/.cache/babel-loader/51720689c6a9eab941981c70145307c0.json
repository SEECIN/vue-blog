{"remainingRequest":"D:\\桌面\\页面练习\\vue-blog\\vue-blog\\node_modules\\babel-loader\\lib\\index.js!D:\\桌面\\页面练习\\vue-blog\\vue-blog\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\桌面\\页面练习\\vue-blog\\vue-blog\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\桌面\\页面练习\\vue-blog\\vue-blog\\src\\components\\m\\BaseForm.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\桌面\\页面练习\\vue-blog\\vue-blog\\src\\components\\m\\BaseForm.vue","mtime":1631517062980},{"path":"D:\\桌面\\页面练习\\vue-blog\\vue-blog\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\桌面\\页面练习\\vue-blog\\vue-blog\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\桌面\\页面练习\\vue-blog\\vue-blog\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\桌面\\页面练习\\vue-blog\\vue-blog\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkQ6L1x1Njg0Q1x1OTc2Mi9cdTk4NzVcdTk3NjJcdTdFQzNcdTRFNjAvdnVlLWJsb2cvdnVlLWJsb2cvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwppbXBvcnQgX3NsaWNlZFRvQXJyYXkgZnJvbSAiRDovXHU2ODRDXHU5NzYyL1x1OTg3NVx1OTc2Mlx1N0VDM1x1NEU2MC92dWUtYmxvZy92dWUtYmxvZy9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vc2xpY2VkVG9BcnJheSI7CmltcG9ydCBfb2JqZWN0U3ByZWFkIGZyb20gIkQ6L1x1Njg0Q1x1OTc2Mi9cdTk4NzVcdTk3NjJcdTdFQzNcdTRFNjAvdnVlLWJsb2cvdnVlLWJsb2cvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL29iamVjdFNwcmVhZDIiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5Lm1hcC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC5mcm9tLWVudHJpZXMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5maWx0ZXIuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QuZW50cmllcy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZpbmQuanMiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgRk9STV9EQVRBIGZyb20gJ0AvY29uZmlnL2Zvcm0uY29uZmlnJzsKaW1wb3J0IFZBTElEQVRFX0RBVEEgZnJvbSAnQC9jb25maWcvdmFsaWRhdGUuY29uZmlnJzsKaW1wb3J0IE1PREFMX0RBVEEgZnJvbSAnQC9jb25maWcvbW9kYWwuY29uZmlnJzsKaW1wb3J0IF9wYWRTdGFydCBmcm9tICdsb2Rhc2gvcGFkU3RhcnQnOwppbXBvcnQgX2NhcGl0YWxpemUgZnJvbSAnbG9kYXNoL2NhcGl0YWxpemUnOwppbXBvcnQgeyBtYXBHZXR0ZXJzLCBtYXBBY3Rpb25zIH0gZnJvbSAndnVleCc7CmltcG9ydCB7IFRvYXN0IH0gZnJvbSAndmFudCc7CnZhciBUQUdfVkFMVUUgPSB7CiAgJ2xvZ2luJzogJ+i/mOayoeaciei0puWPtz8nLAogICdyZWdpc3Rlcic6ICflt7LmnInotKblj7c/JywKICAndXNlckluZm8nOiAnJwp9Owp2YXIgU1BBTl9WQUxVRSA9IHsKICAnbG9naW4nOiAn54K55Ye75rOo5YaMJywKICAncmVnaXN0ZXInOiAn54K55Ye755m75b2VJwp9Owp2YXIgQlROX05BTUUgPSB7CiAgJ2xvZ2luJzogJ+eZu+W9lScsCiAgJ3JlZ2lzdGVyJzogJ+azqOWGjCcsCiAgJ3VzZXJJbmZvJzogJ+S/ruaUuScKfTsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdCYXNlRm9ybScsCiAgY29tcG9uZW50czoge30sCiAgcHJvcHM6IHt9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBmb3JtOiB7fSwKICAgICAgdHlwZTogJ3VzZXJJbmZvJywKICAgICAgdXBsb2FkOiBbXQogICAgfTsKICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7fSwKICB1cGRhdGVkOiBmdW5jdGlvbiB1cGRhdGVkKCkge30sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHZhciBpc0xvZ2luID0gdGhpcy4kc3RvcmUuc3RhdGUudG9rZW47CgogICAgaWYgKCFpc0xvZ2luKSB7CiAgICAgIHRoaXMudHlwZSA9ICdsb2dpbic7CiAgICB9CgogICAgaWYgKHRoaXMudHlwZSA9PT0gInVzZXJJbmZvIikgewogICAgICB0aGlzLmZvcm0gPSB0aGlzLmZvcm1Vc2VySW5mbzsKICAgIH0KICB9LAogIGZpbHRlcnM6IHsKICAgIGZvcm1hdFJ1bGVUcmlnZ2VyOiBmdW5jdGlvbiBmb3JtYXRSdWxlVHJpZ2dlcihydWxlcykgewogICAgICByZXR1cm4gcnVsZXMgPT09IG51bGwgfHwgcnVsZXMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJ1bGVzLm1hcChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgIGl0ZW0udHJpZ2dlciA9IF9wYWRTdGFydChfY2FwaXRhbGl6ZShpdGVtLnRyaWdnZXIpLCA2LCAnb24nKTsKICAgICAgICByZXR1cm4gaXRlbTsKICAgICAgfSk7CiAgICB9CiAgfSwKICBjb21wdXRlZDogX29iamVjdFNwcmVhZCh7CiAgICBmb3JtVXNlckluZm86IGZ1bmN0aW9uIGZvcm1Vc2VySW5mbygpIHsKICAgICAgcmV0dXJuIE9iamVjdC5mcm9tRW50cmllcyhPYmplY3QuZW50cmllcyh0aGlzLiRzdG9yZS5nZXR0ZXJzLnVzZXJJbmZvKS5maWx0ZXIoZnVuY3Rpb24gKF9yZWYpIHsKICAgICAgICB2YXIgX3JlZjIgPSBfc2xpY2VkVG9BcnJheShfcmVmLCAxKSwKICAgICAgICAgICAga2V5ID0gX3JlZjJbMF07CgogICAgICAgIHJldHVybiBGT1JNX0RBVEFbJ3VzZXJJbmZvJ10uZmluZChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgICAgcmV0dXJuIGtleSA9PSBpdGVtWydxdWVyeSddOwogICAgICAgIH0pOwogICAgICB9KSk7CiAgICB9LAogICAgZm9ybURhdGE6IGZ1bmN0aW9uIGZvcm1EYXRhKCkgewogICAgICByZXR1cm4gRk9STV9EQVRBW3RoaXMudHlwZV07CiAgICB9LAogICAgdGl0bGU6IGZ1bmN0aW9uIHRpdGxlKCkgewogICAgICB2YXIgX01PREFMX0RBVEEkdGhpcyR0eXBlOwoKICAgICAgcmV0dXJuIChfTU9EQUxfREFUQSR0aGlzJHR5cGUgPSBNT0RBTF9EQVRBW3RoaXMudHlwZV0pID09PSBudWxsIHx8IF9NT0RBTF9EQVRBJHRoaXMkdHlwZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX01PREFMX0RBVEEkdGhpcyR0eXBlLnRpdGxlOwogICAgfSwKICAgIHRhZ1ZhbHVlOiBmdW5jdGlvbiB0YWdWYWx1ZSgpIHsKICAgICAgcmV0dXJuIFRBR19WQUxVRVt0aGlzLnR5cGVdOwogICAgfSwKICAgIHNwYW5WYWx1ZTogZnVuY3Rpb24gc3BhblZhbHVlKCkgewogICAgICByZXR1cm4gU1BBTl9WQUxVRVt0aGlzLnR5cGVdOwogICAgfSwKICAgIHZhbGlkYXRlczogZnVuY3Rpb24gdmFsaWRhdGVzKCkgewogICAgICByZXR1cm4gVkFMSURBVEVfREFUQTsKICAgIH0sCiAgICBidG5OYW1lOiBmdW5jdGlvbiBidG5OYW1lKCkgewogICAgICByZXR1cm4gQlROX05BTUVbdGhpcy50eXBlXTsKICAgIH0KICB9LCBtYXBHZXR0ZXJzKFsndXNlckluZm8nXSkpLAogIHdhdGNoOiB7CiAgICB0eXBlOiBmdW5jdGlvbiB0eXBlKG5ld1R5cGUpIHsKICAgICAgdGhpcy5pbml0Rm9ybSgpOwoKICAgICAgaWYgKG5ld1R5cGUgPT09ICd1c2VySW5mbycpIHsKICAgICAgICB0aGlzLmZvcm0gPSB0aGlzLmZvcm1Vc2VySW5mbzsKICAgICAgfQogICAgfQogIH0sCiAgbWV0aG9kczogX29iamVjdFNwcmVhZCh7CiAgICBvblN1Ym1pdDogZnVuY3Rpb24gb25TdWJtaXQoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICAgIHZhciB0eXBlOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSAwOwogICAgICAgICAgICAgICAgdHlwZSA9IF90aGlzLnR5cGUgPT09ICd1c2VySW5mbycgPyAicHV0VXNlckluZm8iIDogX3RoaXMudHlwZTsKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA0OwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLiRhcGkoewogICAgICAgICAgICAgICAgICB0eXBlOiB0eXBlLAogICAgICAgICAgICAgICAgICBkYXRhOiBfdGhpcy5mb3JtCiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDY7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMuZ2V0VXNlckluZm8oKTsKCiAgICAgICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICAgICAgVG9hc3QoIiIuY29uY2F0KEJUTl9OQU1FWyd0aGlzLnR5cGUnXSwgIlx1NjIxMFx1NTI5RiIpKTsKICAgICAgICAgICAgICAgIF90aGlzLnR5cGUgPSAndXNlckluZm8nOwogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDEzOwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgMTA6CiAgICAgICAgICAgICAgICBfY29udGV4dC5wcmV2ID0gMTA7CiAgICAgICAgICAgICAgICBfY29udGV4dC50MCA9IF9jb250ZXh0WyJjYXRjaCJdKDApOwogICAgICAgICAgICAgICAgVG9hc3QoewogICAgICAgICAgICAgICAgICBtZXNzYWdlOiBfY29udGV4dC50MAogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMTM6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlLCBudWxsLCBbWzAsIDEwXV0pOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBhZnRlclJlYWQ6IGZ1bmN0aW9uIGFmdGVyUmVhZCh1cGxvYWQpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMigpIHsKICAgICAgICB2YXIgZm9ybURhdGEsIHJlc3VsdDsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIkKF9jb250ZXh0MikgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDIucHJldiA9IF9jb250ZXh0Mi5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgZm9ybURhdGEgPSBuZXcgRm9ybURhdGEoKTsKICAgICAgICAgICAgICAgIGZvcm1EYXRhLmFwcGVuZCgnYXZhdGFyJywgdXBsb2FkLmZpbGUpOwogICAgICAgICAgICAgICAgX2NvbnRleHQyLnByZXYgPSAyOwogICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSA1OwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMi4kYXBpKHsKICAgICAgICAgICAgICAgICAgdHlwZTogJ2F2YXRhcicsCiAgICAgICAgICAgICAgICAgIGRhdGE6IGZvcm1EYXRhCiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgICAgcmVzdWx0ID0gX2NvbnRleHQyLnNlbnQ7CiAgICAgICAgICAgICAgICBfdGhpczIuZm9ybS5hdmF0YXIgPSByZXN1bHQuZmlsZVVSTDsKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMTI7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSA5OgogICAgICAgICAgICAgICAgX2NvbnRleHQyLnByZXYgPSA5OwogICAgICAgICAgICAgICAgX2NvbnRleHQyLnQwID0gX2NvbnRleHQyWyJjYXRjaCJdKDIpOwogICAgICAgICAgICAgICAgVG9hc3QoewogICAgICAgICAgICAgICAgICBtZXNzYWdlOiBfY29udGV4dDIudDAubWVzc2FnZQogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMTI6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTIsIG51bGwsIFtbMiwgOV1dKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgY2hhbmdlVHlwZTogZnVuY3Rpb24gY2hhbmdlVHlwZSgpIHsKICAgICAgdGhpcy50eXBlID0gdGhpcy50eXBlID09PSAnbG9naW4nID8gJ3JlZ2lzdGVyJyA6ICdsb2dpbic7CiAgICB9LAogICAgb25PdmVyc2l6ZTogZnVuY3Rpb24gb25PdmVyc2l6ZSgpIHsKICAgICAgVG9hc3QoJ+aWh+S7tuWkp+Wwj+S4jeiDvei2hei/hyA1MDBrYicpOwogICAgfSwKICAgIGluaXRGb3JtOiBmdW5jdGlvbiBpbml0Rm9ybSgpIHsKICAgICAgLy/ph43nva7ooajljZXlrZfmrrUg5Lul5Y+K5qCh6aqM54q25oCBCiAgICAgIHRoaXMuZm9ybSA9IHt9OwogICAgfQogIH0sIG1hcEFjdGlvbnMoWydnZXRVc2VySW5mbyddKSkKfTs="},{"version":3,"sources":["BaseForm.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n  <van-form @submit=\"onSubmit\"\r\n            class=\"blogm-form\">\r\n    <h3 class=\"blogm-form--title\">{{title}}</h3>\r\n    <van-field class=\"blogm-form--cell\"\r\n               v-for=\"item in formData\"\r\n               :key=\"item['query']\"\r\n               v-model=\"form[item['query']]\"\r\n               :readonly=\"item['query'] === 'username' && type==='userInfo'\"\r\n               :name=\"item['query']==='avatar'? item['lable']: 'uploader'\"\r\n               :label=\"item['label']\"\r\n               :type=\"item['type']\"\r\n               :placeholder=\"item['placeholder']\"\r\n               :rules=\"validates[item['query']] | formatRuleTrigger\">\r\n      <template v-if=\"item['query']==='avatar'\"\r\n                #input>\r\n        <van-uploader v-model=\"upload\"\r\n                      :after-read=\"afterRead\"\r\n                      :max-count=\"1\"\r\n                      :max-size=\"500 * 1024\"\r\n                      @oversize=\"onOversize\" />\r\n      </template>\r\n    </van-field>\r\n    <p class=\"blogm-form--tag\"\r\n       v-if=\"tagValue\">\r\n      {{tagValue}}\r\n      <span @click=\"changeType\">{{spanValue}}</span>\r\n    </p>\r\n    <div style=\"margin: 16px;\">\r\n      <van-button round\r\n                  block\r\n                  type=\"info\"\r\n                  native-type=\"submit\">{{btnName}}</van-button>\r\n    </div>\r\n  </van-form>\r\n</template>\r\n\r\n<script>\r\nimport FORM_DATA from '@/config/form.config'\r\nimport VALIDATE_DATA from '@/config/validate.config'\r\nimport MODAL_DATA from '@/config/modal.config'\r\nimport _padStart from 'lodash/padStart'\r\nimport _capitalize from 'lodash/capitalize'\r\nimport { mapGetters, mapActions } from 'vuex'\r\nimport { Toast } from 'vant'\r\nconst TAG_VALUE = {\r\n  'login': '还没有账号?',\r\n  'register': '已有账号?',\r\n  'userInfo': ''\r\n}\r\nconst SPAN_VALUE = {\r\n  'login': '点击注册',\r\n  'register': '点击登录'\r\n}\r\nconst BTN_NAME = {\r\n  'login': '登录',\r\n  'register': '注册',\r\n  'userInfo': '修改'\r\n}\r\nexport default {\r\n  name: 'BaseForm',\r\n  components: {\r\n\r\n  },\r\n  props: {\r\n\r\n  },\r\n  data () {\r\n    return {\r\n      form: {},\r\n      type: 'userInfo',\r\n      upload: []\r\n    }\r\n  },\r\n  created () {\r\n\r\n  },\r\n  updated () {\r\n\r\n  },\r\n  mounted () {\r\n    let isLogin = this.$store.state.token\r\n    if (!isLogin) {\r\n      this.type = 'login'\r\n    }\r\n    if (this.type === \"userInfo\") {\r\n      this.form = this.formUserInfo\r\n    }\r\n  },\r\n  filters: {\r\n    formatRuleTrigger (rules) {\r\n      return rules?.map(item => {\r\n        item.trigger = _padStart(_capitalize(item.trigger), 6, 'on')\r\n        return item\r\n      })\r\n    },\r\n  },\r\n  computed: {\r\n    formUserInfo () {\r\n      return Object.fromEntries(Object.entries(this.$store.getters.userInfo).filter(([key]) => {\r\n        return FORM_DATA['userInfo'].find(item => {\r\n          return key == item['query']\r\n        })\r\n      }))\r\n    },\r\n    formData () {\r\n      return FORM_DATA[this.type]\r\n    },\r\n    title () {\r\n      return MODAL_DATA[this.type]?.title\r\n    },\r\n    tagValue () {\r\n      return TAG_VALUE[this.type]\r\n    },\r\n    spanValue () {\r\n      return SPAN_VALUE[this.type]\r\n    },\r\n    validates () {\r\n      return VALIDATE_DATA\r\n    },\r\n    btnName () {\r\n      return BTN_NAME[this.type]\r\n    },\r\n    ...mapGetters(['userInfo'])\r\n  },\r\n  watch: {\r\n    type (newType) {\r\n      this.initForm()\r\n      if (newType === 'userInfo') {\r\n        this.form = this.formUserInfo\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    async onSubmit () {\r\n      try {\r\n        let type = this.type === 'userInfo' ? \"putUserInfo\" : this.type\r\n        await this.$api({ type: type, data: this.form })\r\n        await this.getUserInfo()\r\n        Toast(`${BTN_NAME['this.type']}成功`)\r\n        this.type = 'userInfo'\r\n\r\n      } catch (error) {\r\n        Toast({ message: error })\r\n      }\r\n    },\r\n    async afterRead (upload) {\r\n      let formData = new FormData()\r\n      formData.append('avatar', upload.file)\r\n      try {\r\n        let result = await this.$api({ type: 'avatar', data: formData })\r\n        this.form.avatar = result.fileURL\r\n      } catch (error) {\r\n        Toast({ message: error.message })\r\n      }\r\n    },\r\n    changeType () {\r\n      this.type = this.type === 'login' ? 'register' : 'login'\r\n    },\r\n    onOversize () {\r\n      Toast('文件大小不能超过 500kb')\r\n    },\r\n    initForm () {\r\n      //重置表单字段 以及校验状态\r\n      this.form = {}\r\n    },\r\n    ...mapActions(['getUserInfo'])\r\n  },\r\n}\r\n</script>\r\n<style lang='stylus'>\r\n.blogm-form\r\n  width 100%\r\n.blogm-form--cell\r\n  .van-field__value\r\n    line-height 35px\r\n  .van-field__label\r\n    width 5em\r\n    margin-right 0\r\n  .van-uploader__upload-icon\r\n    text-indent 0\r\n.blogm-form--title\r\n  margin 20px 0\r\n  font-size 20px\r\n  font-weight 600\r\n  text-align center\r\n.blogm-form--tag\r\n  margin 16px 20px 0 0\r\n  font-size 12px\r\n  text-align right\r\n  span\r\n    color #1989fa\r\n</style>"],"sourceRoot":"src/components/m"}]}