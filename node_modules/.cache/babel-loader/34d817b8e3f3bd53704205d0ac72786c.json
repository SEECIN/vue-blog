{"remainingRequest":"D:\\桌面\\页面练习\\vue-blog\\vue-blog\\node_modules\\thread-loader\\dist\\cjs.js!D:\\桌面\\页面练习\\vue-blog\\vue-blog\\node_modules\\babel-loader\\lib\\index.js!D:\\桌面\\页面练习\\vue-blog\\vue-blog\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\桌面\\页面练习\\vue-blog\\vue-blog\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\桌面\\页面练习\\vue-blog\\vue-blog\\src\\components\\Live2d.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\桌面\\页面练习\\vue-blog\\vue-blog\\src\\components\\Live2d.vue","mtime":1630051738530},{"path":"D:\\桌面\\页面练习\\vue-blog\\vue-blog\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\桌面\\页面练习\\vue-blog\\vue-blog\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\桌面\\页面练习\\vue-blog\\vue-blog\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\桌面\\页面练习\\vue-blog\\vue-blog\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\桌面\\页面练习\\vue-blog\\vue-blog\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkQ6L1x1Njg0Q1x1OTc2Mi9cdTk4NzVcdTk3NjJcdTdFQzNcdTRFNjAvdnVlLWJsb2cvdnVlLWJsb2cvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5jb25jYXQuanMiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCAnQC9zdGF0aWMvanMvbGl2ZTJkJzsKaW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJzsKaW1wb3J0IHN0b3JlIGZyb20gJ3N0b3JlJzsKdmFyIExJVkUyRF9NT0RFTF9OQU1FID0gJ3VhX2xpdmUyZCc7CnZhciBHRVRfVVJMID0gJ2h0dHBzOi8vbGl2ZTJkLmZnaHJzaC5uZXQvYXBpL2dldC8nOwp2YXIgTU9ERUxfVVJMID0gJ2h0dHA6Ly9hcGkuZmdocnNoLm5ldC9saXZlMmQvc3dpdGNoLyc7CnZhciBURVhUVVJFU19VUkwgPSAnaHR0cHM6Ly9hcGkuZmdocnNoLm5ldC9saXZlMmQvcmFuZF90ZXh0dXJlcy8nOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ0xpdmUyZCcsCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIG1vZGVsSWQ6IDEsCiAgICAgIHRleHR1cmVzSWQ6IDAKICAgIH07CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgdmFyIF9zdG9yZSRnZXQgPSBzdG9yZS5nZXQoTElWRTJEX01PREVMX05BTUUpLAogICAgICAgIF9zdG9yZSRnZXQkbW9kZWxJZCA9IF9zdG9yZSRnZXQubW9kZWxJZCwKICAgICAgICBtb2RlbElkID0gX3N0b3JlJGdldCRtb2RlbElkID09PSB2b2lkIDAgPyA0IDogX3N0b3JlJGdldCRtb2RlbElkLAogICAgICAgIF9zdG9yZSRnZXQkdGV4dHVyZXNJZCA9IF9zdG9yZSRnZXQudGV4dHVyZXNJZCwKICAgICAgICB0ZXh0dXJlc0lkID0gX3N0b3JlJGdldCR0ZXh0dXJlc0lkID09PSB2b2lkIDAgPyAwIDogX3N0b3JlJGdldCR0ZXh0dXJlc0lkOwoKICAgIHRoaXMubW9kZWxJZCA9IG1vZGVsSWQ7CiAgICB0aGlzLnRleHR1cmVzSWQgPSB0ZXh0dXJlc0lkOwogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHRoaXMubG9hZE1vZGVsKCk7CiAgfSwKICBtZXRob2RzOiB7CiAgICBjaGFuZ2VNb2RlbDogZnVuY3Rpb24gY2hhbmdlTW9kZWwoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICAgIHZhciBfcmVzdWx0JGRhdGEsIHJlc3VsdCwgbW9kZWw7CgogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSAwOwogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDM7CiAgICAgICAgICAgICAgICByZXR1cm4gYXhpb3MuZ2V0KCIiLmNvbmNhdChNT0RFTF9VUkwsICI/aWQ9IikuY29uY2F0KF90aGlzLm1vZGVsSWQpKTsKCiAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgICAgcmVzdWx0ID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgICAgICAgIG1vZGVsID0gKF9yZXN1bHQkZGF0YSA9IHJlc3VsdC5kYXRhKSA9PT0gbnVsbCB8fCBfcmVzdWx0JGRhdGEgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9yZXN1bHQkZGF0YS5tb2RlbDsKICAgICAgICAgICAgICAgIF90aGlzLm1vZGVsSWQgPSBtb2RlbC5pZDsKCiAgICAgICAgICAgICAgICBfdGhpcy5sb2FkTW9kZWwoKTsKCiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTI7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSA5OgogICAgICAgICAgICAgICAgX2NvbnRleHQucHJldiA9IDk7CiAgICAgICAgICAgICAgICBfY29udGV4dC50MCA9IF9jb250ZXh0WyJjYXRjaCJdKDApOwoKICAgICAgICAgICAgICAgIF90aGlzLnJlc2V0TW9kZWwoKTsKCiAgICAgICAgICAgICAgY2FzZSAxMjoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUsIG51bGwsIFtbMCwgOV1dKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgY2hhbmdlVGV4dHVyZXM6IGZ1bmN0aW9uIGNoYW5nZVRleHR1cmVzKCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyKCkgewogICAgICAgIHZhciBfcmVzdWx0JGRhdGEyLCByZXN1bHQ7CgogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dDIucHJldiA9IDA7CiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDM7CiAgICAgICAgICAgICAgICByZXR1cm4gYXhpb3MuZ2V0KCIiLmNvbmNhdChURVhUVVJFU19VUkwsICI/aWQ9IikuY29uY2F0KF90aGlzMi5tb2RlbElkKSk7CgogICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICAgIHJlc3VsdCA9IF9jb250ZXh0Mi5zZW50OwogICAgICAgICAgICAgICAgX3RoaXMyLnRleHR1cmVzSWQgPSAoX3Jlc3VsdCRkYXRhMiA9IHJlc3VsdC5kYXRhKSA9PT0gbnVsbCB8fCBfcmVzdWx0JGRhdGEyID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfcmVzdWx0JGRhdGEyLnRleHR1cmVzLmlkOwoKICAgICAgICAgICAgICAgIF90aGlzMi5sb2FkTW9kZWwoKTsKCiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDExOwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgODoKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5wcmV2ID0gODsKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi50MCA9IF9jb250ZXh0MlsiY2F0Y2giXSgwKTsKCiAgICAgICAgICAgICAgICBfdGhpczIucmVzZXRNb2RlbCgpOwoKICAgICAgICAgICAgICBjYXNlIDExOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUyLCBudWxsLCBbWzAsIDhdXSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIHJlc2V0TW9kZWw6IGZ1bmN0aW9uIHJlc2V0TW9kZWwoKSB7CiAgICAgIHRoaXMubW9kZWxJZCA9IDE7CiAgICAgIHRoaXMudGV4dHVyZXNJZCA9IDA7CiAgICAgIHRoaXMubG9hZE1vZGVsKCk7CiAgICB9LAogICAgbG9hZE1vZGVsOiBmdW5jdGlvbiBsb2FkTW9kZWwoKSB7CiAgICAgIGxvYWRsaXZlMmQoJ2xpdmUyZCcsICIiLmNvbmNhdChHRVRfVVJMLCAiP2lkPSIpLmNvbmNhdCh0aGlzLm1vZGVsSWQsICItIikuY29uY2F0KHRoaXMudGV4dHVyZXNJZCkpOwogICAgICBzdG9yZS5zZXQoTElWRTJEX01PREVMX05BTUUsIHsKICAgICAgICBtb2RlbElkOiB0aGlzLm1vZGVsSWQsCiAgICAgICAgdGV4dHVyZXNJZDogdGhpcy50ZXh0dXJlc0lkCiAgICAgIH0pOwogICAgfQogIH0KfTs="},{"version":3,"sources":["Live2d.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;AAgBA,OAAA,oBAAA;AACA,OAAA,KAAA,MAAA,OAAA;AACA,OAAA,KAAA,MAAA,OAAA;AACA,IAAA,iBAAA,GAAA,WAAA;AACA,IAAA,OAAA,GAAA,oCAAA;AACA,IAAA,SAAA,GAAA,sCAAA;AACA,IAAA,YAAA,GAAA,8CAAA;AACA,eAAA;AACA,EAAA,IAAA,EAAA,QADA;AAEA,EAAA,IAFA,kBAEA;AACA,WAAA;AACA,MAAA,OAAA,EAAA,CADA;AAEA,MAAA,UAAA,EAAA;AAFA,KAAA;AAIA,GAPA;AAQA,EAAA,OARA,qBAQA;AACA,qBAAA,KAAA,CAAA,GAAA,CAAA,iBAAA,CAAA;AAAA,wCAAA,OAAA;AAAA,QAAA,OAAA,mCAAA,CAAA;AAAA,2CAAA,UAAA;AAAA,QAAA,UAAA,sCAAA,CAAA;;AACA,SAAA,OAAA,GAAA,OAAA;AACA,SAAA,UAAA,GAAA,UAAA;AACA,GAZA;AAaA,EAAA,OAbA,qBAaA;AACA,SAAA,SAAA;AACA,GAfA;AAgBA,EAAA,OAAA,EAAA;AACA,IAAA,WADA,yBACA;AAAA;;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAEA,KAAA,CAAA,GAAA,WAAA,SAAA,iBAAA,KAAA,CAAA,OAAA,EAFA;;AAAA;AAEA,gBAAA,MAFA;AAGA,gBAAA,KAHA,mBAGA,MAAA,CAAA,IAHA,iDAGA,aAAA,KAHA;AAIA,gBAAA,KAAA,CAAA,OAAA,GAAA,KAAA,CAAA,EAAA;;AACA,gBAAA,KAAA,CAAA,SAAA;;AALA;AAAA;;AAAA;AAAA;AAAA;;AAOA,gBAAA,KAAA,CAAA,UAAA;;AAPA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAUA,KAXA;AAYA,IAAA,cAZA,4BAYA;AAAA;;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAEA,KAAA,CAAA,GAAA,WAAA,YAAA,iBAAA,MAAA,CAAA,OAAA,EAFA;;AAAA;AAEA,gBAAA,MAFA;AAGA,gBAAA,MAAA,CAAA,UAAA,oBAAA,MAAA,CAAA,IAAA,kDAAA,cAAA,QAAA,CAAA,EAAA;;AACA,gBAAA,MAAA,CAAA,SAAA;;AAJA;AAAA;;AAAA;AAAA;AAAA;;AAMA,gBAAA,MAAA,CAAA,UAAA;;AANA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAQA,KApBA;AAqBA,IAAA,UArBA,wBAqBA;AACA,WAAA,OAAA,GAAA,CAAA;AACA,WAAA,UAAA,GAAA,CAAA;AACA,WAAA,SAAA;AACA,KAzBA;AA0BA,IAAA,SA1BA,uBA0BA;AACA,MAAA,UAAA,CAAA,QAAA,YAAA,OAAA,iBAAA,KAAA,OAAA,cAAA,KAAA,UAAA,EAAA;AACA,MAAA,KAAA,CAAA,GAAA,CAAA,iBAAA,EAAA;AAAA,QAAA,OAAA,EAAA,KAAA,OAAA;AAAA,QAAA,UAAA,EAAA,KAAA;AAAA,OAAA;AACA;AA7BA;AAhBA,CAAA","sourcesContent":["<template>\r\n  <div class=\"live2d-wrap hidden-md-and-down\">\r\n    <div class=\"live2d-menu\">\r\n      <span class=\"live2d-menu--item\"><i class=\"el-icon-refresh\"\r\n           @click=\"changeModel\"></i></span>\r\n      <span class=\"live2d-menu--item\"><i class=\"el-icon-goods\"\r\n           @click=\"changeTextures\"></i></span>\r\n    </div>\r\n    <canvas id=\"live2d\"\r\n            width=\"300\"\r\n            height=\"300\"></canvas>\r\n\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport '@/static/js/live2d'\r\nimport axios from 'axios'\r\nimport store from 'store'\r\nconst LIVE2D_MODEL_NAME = 'ua_live2d'\r\nconst GET_URL = 'https://live2d.fghrsh.net/api/get/'\r\nconst MODEL_URL = 'http://api.fghrsh.net/live2d/switch/'\r\nconst TEXTURES_URL = 'https://api.fghrsh.net/live2d/rand_textures/'\r\nexport default {\r\n  name: 'Live2d',\r\n  data () {\r\n    return {\r\n      modelId: 1,\r\n      texturesId: 0,\r\n    };\r\n  },\r\n  created () {\r\n    let { modelId = 4, texturesId = 0 } = store.get(LIVE2D_MODEL_NAME)\r\n    this.modelId = modelId\r\n    this.texturesId = texturesId\r\n  },\r\n  mounted () {\r\n    this.loadModel()\r\n  },\r\n  methods: {\r\n    async changeModel () {\r\n      try {\r\n        let result = await axios.get(`${MODEL_URL}?id=${this.modelId}`)\r\n        let model = result.data?.model\r\n        this.modelId = model.id\r\n        this.loadModel()\r\n      } catch (err) {\r\n        this.resetModel()\r\n      }\r\n\r\n    },\r\n    async changeTextures () {\r\n      try {\r\n        let result = await axios.get(`${TEXTURES_URL}?id=${this.modelId}`)\r\n        this.texturesId = result.data?.textures.id\r\n        this.loadModel()\r\n      } catch (err) {\r\n        this.resetModel()\r\n      }\r\n    },\r\n    resetModel () {\r\n      this.modelId = 1\r\n      this.texturesId = 0\r\n      this.loadModel()\r\n    },\r\n    loadModel () {\r\n      loadlive2d('live2d', `${GET_URL}?id=${this.modelId}-${this.texturesId}`)\r\n      store.set(LIVE2D_MODEL_NAME, { modelId: this.modelId, texturesId: this.texturesId })\r\n    }\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"stylus\" >\r\n.live2d-wrap\r\n  position fixed\r\n  bottom 10px\r\n  width 300px\r\n.live2d-wrap.right\r\n  right 0\r\n.live2d-wrap:hover .live2d-menu\r\n  display flex\r\n.live2d-menu\r\n  position absolute\r\n  top 20px\r\n  left 20px\r\n  display none\r\n  flex-direction column\r\n  align-items center\r\n  justify-content space-around\r\n  width 40px\r\n  height 80px\r\n  padding 8px\r\n  background-color #fff\r\n  border-radius 20px\r\n.live2d-menu--item\r\n  padding 4px\r\n  cursor pointer\r\n</style>"],"sourceRoot":"src/components"}]}