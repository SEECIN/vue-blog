{"remainingRequest":"D:\\桌面\\页面练习\\vue-blog\\vue-blog\\node_modules\\babel-loader\\lib\\index.js!D:\\桌面\\页面练习\\vue-blog\\vue-blog\\node_modules\\eslint-loader\\index.js??ref--13-0!D:\\桌面\\页面练习\\vue-blog\\vue-blog\\src\\store\\index.js","dependencies":[{"path":"D:\\桌面\\页面练习\\vue-blog\\vue-blog\\src\\store\\index.js","mtime":1630153421789},{"path":"D:\\桌面\\页面练习\\vue-blog\\vue-blog\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\桌面\\页面练习\\vue-blog\\vue-blog\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\桌面\\页面练习\\vue-blog\\vue-blog\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkQ6L1x1Njg0Q1x1OTc2Mi9cdTk4NzVcdTk3NjJcdTdFQzNcdTRFNjAvdnVlLWJsb2cvdnVlLWJsb2cvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5mdW5jdGlvbi5uYW1lLmpzIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgVnVlIGZyb20gJ3Z1ZSc7CmltcG9ydCBWdWV4IGZyb20gJ3Z1ZXgnOwppbXBvcnQgbW9kYWwgZnJvbSAnLi9tb2R1bGVzL21vZGFsJzsKaW1wb3J0IGxpa2VzIGZyb20gJy4vbW9kdWxlcy9saWtlcyc7CmltcG9ydCBzdG9yZSBmcm9tICdzdG9yZSc7CmltcG9ydCBodHRwIGZyb20gJ0AvYXBpL2h0dHAnOwppbXBvcnQgcm91dGVyIGZyb20gJy4uL3JvdXRlcic7CmltcG9ydCB7IGlvIH0gZnJvbSAnc29ja2V0LmlvLWNsaWVudCc7CnZhciBhY3RNZSA9IGZhbHNlOwpWdWUudXNlKFZ1ZXgpOwp2YXIgVE9LRU5fTkFNRSA9IHByb2Nlc3MuZW52LlZVRV9BUFBfVE9LRU5fTkFNRTsKZXhwb3J0IGRlZmF1bHQgbmV3IFZ1ZXguU3RvcmUoewogIHN0YXRlOiB7CiAgICB0b2tlbjogc3RvcmUuZ2V0KFRPS0VOX05BTUUpLAogICAgdXNlckluZm86IHt9CiAgfSwKICBnZXR0ZXJzOiB7CiAgICB1c2VySW5mbzogZnVuY3Rpb24gdXNlckluZm8oc3RhdGUpIHsKICAgICAgaWYgKHN0YXRlLnRva2VuKSB7CiAgICAgICAgcmV0dXJuIHN0YXRlLnVzZXJJbmZvOwogICAgICB9CiAgICB9CiAgfSwKICBtdXRhdGlvbnM6IHsKICAgIFNFVF9UT0tFTjogZnVuY3Rpb24gU0VUX1RPS0VOKHN0YXRlKSB7CiAgICAgIHN0YXRlLnRva2VuID0gc3RvcmUuZ2V0KFRPS0VOX05BTUUpOwogICAgfSwKICAgIFNFVF9VU0VSSU5GTzogZnVuY3Rpb24gU0VUX1VTRVJJTkZPKHN0YXRlLCB1c2VySW5mbykgewogICAgICBzdGF0ZS51c2VySW5mbyA9IHVzZXJJbmZvOwogICAgfSwKICAgIERFTEVURV9UT0tFTjogZnVuY3Rpb24gREVMRVRFX1RPS0VOKHN0YXRlKSB7CiAgICAgIHN0YXRlLnRva2VuID0gJyc7CiAgICAgIHN0b3JlLnJlbW92ZShUT0tFTl9OQU1FKTsKICAgIH0KICB9LAogIGFjdGlvbnM6IHsKICAgIGxvZ2luOiBmdW5jdGlvbiBsb2dpbihfcmVmKSB7CiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgICAgdmFyIGRpc3BhdGNoLCBjb21taXQ7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgZGlzcGF0Y2ggPSBfcmVmLmRpc3BhdGNoLCBjb21taXQgPSBfcmVmLmNvbW1pdDsKICAgICAgICAgICAgICAgIGNvbW1pdCgnU0VUX1RPS0VOJyk7CiAgICAgICAgICAgICAgICBkaXNwYXRjaCgnZ2V0VXNlckluZm8nKTsKCiAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIGxvZ291dDogZnVuY3Rpb24gbG9nb3V0KF9yZWYyKSB7CiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyKCkgewogICAgICAgIHZhciBjb21taXQ7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGNvbW1pdCA9IF9yZWYyLmNvbW1pdDsKICAgICAgICAgICAgICAgIGFjdE1lID0gdHJ1ZTsKICAgICAgICAgICAgICAgIGNvbW1pdCgnREVMRVRFX1RPS0VOJyk7CgogICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMik7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIGdldFVzZXJJbmZvOiBmdW5jdGlvbiBnZXRVc2VySW5mbyhfcmVmMykgewogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMygpIHsKICAgICAgICB2YXIgY29tbWl0LCB1aWQsIHVzZXJJbmZvOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMyQoX2NvbnRleHQzKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0My5wcmV2ID0gX2NvbnRleHQzLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBjb21taXQgPSBfcmVmMy5jb21taXQ7CiAgICAgICAgICAgICAgICBfY29udGV4dDMucHJldiA9IDE7CiAgICAgICAgICAgICAgICB1aWQgPSBzdG9yZS5nZXQoJ3VpZCcpIHx8IHVuZGVmaW5lZDsKICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gNTsKICAgICAgICAgICAgICAgIHJldHVybiBodHRwKHsKICAgICAgICAgICAgICAgICAgdHlwZTogJ2dldFVzZXJJbmZvJywKICAgICAgICAgICAgICAgICAgZGF0YTogewogICAgICAgICAgICAgICAgICAgIHVpZDogdWlkCiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgICB1c2VySW5mbyA9IF9jb250ZXh0My5zZW50OwogICAgICAgICAgICAgICAgY29tbWl0KCdTRVRfVVNFUklORk8nLCB1c2VySW5mbyk7CiAgICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDEyOwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgOToKICAgICAgICAgICAgICAgIF9jb250ZXh0My5wcmV2ID0gOTsKICAgICAgICAgICAgICAgIF9jb250ZXh0My50MCA9IF9jb250ZXh0M1siY2F0Y2giXSgxKTsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKF9jb250ZXh0My50MCk7CgogICAgICAgICAgICAgIGNhc2UgMTI6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTMsIG51bGwsIFtbMSwgOV1dKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgb25saW5lOiBmdW5jdGlvbiBvbmxpbmUoX3JlZjQpIHsKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTQoKSB7CiAgICAgICAgdmFyIGNvbW1pdCwgZ2V0dGVycywgX2dldHRlcnMkdXNlckluZm8sIF9pZCwgbmlrbmFtZTsKCiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU0JChfY29udGV4dDQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ0LnByZXYgPSBfY29udGV4dDQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGNvbW1pdCA9IF9yZWY0LmNvbW1pdCwgZ2V0dGVycyA9IF9yZWY0LmdldHRlcnM7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygxMTEpOwogICAgICAgICAgICAgICAgVnVlLnByb3RvdHlwZS4kd3MgPSBpbyhwcm9jZXNzLmVudi5WVUVfQVBQX1VTRVJfQ0hBVF9QQVRILCB7CiAgICAgICAgICAgICAgICAgIHRyYW5zcG9ydHM6IFsnd2Vic29ja2V0J10KICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgX2dldHRlcnMkdXNlckluZm8gPSBnZXR0ZXJzLnVzZXJJbmZvLCBfaWQgPSBfZ2V0dGVycyR1c2VySW5mby5faWQsIG5pa25hbWUgPSBfZ2V0dGVycyR1c2VySW5mby5uaWtuYW1lOwogICAgICAgICAgICAgICAgVnVlLnByb3RvdHlwZS4kd3MuZW1pdCgnb25saW5lJywgewogICAgICAgICAgICAgICAgICB1aWQ6IF9pZCwKICAgICAgICAgICAgICAgICAgbmlrbmFtZTogbmlrbmFtZQogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICBWdWUucHJvdG90eXBlLiR3cy5vbignZGlzY29ubmVjdCcsIGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgVnVlLnByb3RvdHlwZS4kd3MgPSBudWxsOwogICAgICAgICAgICAgICAgICB2YXIgbWVzc2FnZSA9ICJcdTUxOERcdTg5QzEgIi5jb25jYXQobmlrbmFtZSk7IC8v5aaC5p6c5piv6KKr6aG25o6J5LqGCgogICAgICAgICAgICAgICAgICBpZiAoIWFjdE1lKSB7CiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZSA9ICJcdThEMjZcdTUzRjdcdTVERjJcdTU3MjhcdTUxNzZcdTRFRDZcdThCQkVcdTU5MDdcdTc2N0JcdTVGNTUiOwogICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICBWdWUucHJvdG90eXBlLiRub3RpZnkuc3VjY2Vzcyh7CiAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICfpgIDlh7rnmbvlvZUnLAogICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IG1lc3NhZ2UKICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgIGFjdE1lID0gZmFsc2U7CgogICAgICAgICAgICAgICAgICBpZiAocm91dGVyLmFwcC5fcm91dGUubmFtZSAhPT0gJ2luZGV4JykgewogICAgICAgICAgICAgICAgICAgIHJvdXRlci5wdXNoKCcvaW5kZXgnKTsKICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgY29tbWl0KCdDQU5DRUxfVE9LRU4nKTsKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTQpOwogICAgICB9KSkoKTsKICAgIH0KICB9LAogIG1vZHVsZXM6IHsKICAgIG1vZGFsOiBtb2RhbCwKICAgIGxpa2VzOiBsaWtlcwogIH0KfSk7"},{"version":3,"sources":["D:/桌面/页面练习/vue-blog/vue-blog/src/store/index.js"],"names":["Vue","Vuex","modal","likes","store","http","router","io","actMe","use","TOKEN_NAME","process","env","VUE_APP_TOKEN_NAME","Store","state","token","get","userInfo","getters","mutations","SET_TOKEN","SET_USERINFO","DELETE_TOKEN","remove","actions","login","dispatch","commit","logout","getUserInfo","uid","undefined","type","data","console","log","online","prototype","$ws","VUE_APP_USER_CHAT_PATH","transports","_id","nikname","emit","on","message","$notify","success","title","app","_route","name","push","modules"],"mappings":"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","sourcesContent":["import Vue from 'vue'\nimport Vuex from 'vuex'\nimport modal from './modules/modal'\nimport likes from './modules/likes'\nimport store from 'store'\nimport http from '@/api/http'\nimport router from '../router'\n\nimport { io } from 'socket.io-client'\nlet actMe = false\nVue.use(Vuex)\nconst TOKEN_NAME = process.env.VUE_APP_TOKEN_NAME\nexport default new Vuex.Store({\n  state: {\n    token: store.get(TOKEN_NAME),\n    userInfo: {}\n  },\n  getters: {\n    userInfo (state) {\n      if (state.token) {\n        return state.userInfo\n      }\n    }\n  },\n  mutations: {\n    SET_TOKEN (state) {\n      state.token = store.get(TOKEN_NAME)\n    },\n    SET_USERINFO (state, userInfo) {\n      state.userInfo = userInfo\n    },\n    DELETE_TOKEN(state){\n      state.token = ''\n      store.remove(TOKEN_NAME)\n    }\n  },\n  actions: {\n    async login ({ dispatch, commit }) {\n      commit('SET_TOKEN')\n      dispatch('getUserInfo')\n    },\n    async logout ({ commit }) {\n      actMe = true\n      commit('DELETE_TOKEN')\n    },\n    async getUserInfo ({ commit }) {\n      try {\n        let uid = store.get('uid') || undefined\n        let userInfo = await http({ type: 'getUserInfo',data:{uid} })\n        commit('SET_USERINFO', userInfo)\n      } catch (err) {\n        console.log(err)\n      }\n    },\n    async online ({ commit, getters }) {\n      console.log(111);\n      Vue.prototype.$ws = io(process.env.VUE_APP_USER_CHAT_PATH, { transports: ['websocket'] })\n      let { _id, nikname } = getters.userInfo\n\n      Vue.prototype.$ws.emit('online', { uid: _id, nikname })\n\n      Vue.prototype.$ws.on('disconnect', () => {\n        Vue.prototype.$ws = null\n        let message = `再见 ${nikname}`\n        //如果是被顶掉了\n        if (!actMe) {\n          message = `账号已在其他设备登录`\n        }\n        Vue.prototype.$notify.success({\n          title: '退出登录',\n          message\n        })\n        actMe = false\n        if (router.app._route.name !== 'index') {\n          router.push('/index')\n        }\n        commit('CANCEL_TOKEN')\n      })\n\n    },\n  },\n  modules: {\n    modal,likes\n  }\n})\n"]}]}