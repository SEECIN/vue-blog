{"remainingRequest":"D:\\桌面\\页面练习\\vue-blog\\vue-blog\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\桌面\\页面练习\\vue-blog\\vue-blog\\src\\views\\Article.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\桌面\\页面练习\\vue-blog\\vue-blog\\src\\views\\Article.vue","mtime":1632299997813},{"path":"D:\\桌面\\页面练习\\vue-blog\\vue-blog\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\桌面\\页面练习\\vue-blog\\vue-blog\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\桌面\\页面练习\\vue-blog\\vue-blog\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\桌面\\页面练习\\vue-blog\\vue-blog\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\桌面\\页面练习\\vue-blog\\vue-blog\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgeyBOb3RpZmljYXRpb24gfSBmcm9tICdlbGVtZW50LXVpJw0KaW1wb3J0IEFydGljbGVDb250ZW50IGZyb20gJ0AvY29tcG9uZW50cy9hcnRpY2xlL0FydGljbGVDb250ZW50Jw0KaW1wb3J0IENvbW1lbnRUZXh0QXJlYSBmcm9tICdAL2NvbXBvbmVudHMvY29tbWVudC9Db21tZW50VGV4dEFyZWEnDQppbXBvcnQgQ29tbWVudExpc3QgZnJvbSAnQC9jb21wb25lbnRzL2NvbW1lbnQvQ29tbWVudExpc3QnDQppbXBvcnQgeyBjcmVhdGVOYW1lc3BhY2VkSGVscGVycyB9IGZyb20gJ3Z1ZXgnDQpjb25zdCB7IG1hcEFjdGlvbnMgfSA9IGNyZWF0ZU5hbWVzcGFjZWRIZWxwZXJzKCdsaWtlcycpDQpleHBvcnQgZGVmYXVsdCB7DQogIG5hbWU6ICcnLA0KICBjb21wb25lbnRzOiB7DQogICAgQXJ0aWNsZUNvbnRlbnQsIENvbW1lbnRUZXh0QXJlYSwgQ29tbWVudExpc3QNCiAgfSwNCiAgcHJvdmlkZSAoKSB7DQogICAgcmV0dXJuIHsNCiAgICAgIGdldEFydGljbGVCeUlkOiB0aGlzLmdldEFydGljbGVCeUlkDQogICAgfQ0KICB9LA0KICBkYXRhICgpIHsNCiAgICByZXR1cm4gew0KICAgICAgYXJ0aWNsZUlkOiAiIiwNCiAgICAgIGFydGljbGU6IHt9DQogICAgfQ0KICB9LA0KICBjb21wdXRlZDogew0KDQogIH0sDQogIHdhdGNoOiB7DQoNCiAgfSwNCiAgY3JlYXRlZCAoKSB7DQogICAgdGhpcy5hcnRpY2xlSWQgPSB0aGlzLiRyb3V0ZS5wYXJhbXMuaWQNCiAgICB0aGlzLmdldEFydGljbGVCeUlkKCkNCiAgfSwNCiAgbWV0aG9kczogew0KICAgIGFzeW5jIGdldEFydGljbGVCeUlkICgpIHsNCiAgICAgIHRyeSB7DQogICAgICAgIHRoaXMuYXJ0aWNsZSA9IGF3YWl0IHRoaXMuJGFwaSh7IHR5cGU6ICJnZXRBcnRpY2xlQnlJZCIsIGRhdGE6IHsgaWQ6IHRoaXMuYXJ0aWNsZUlkIH0gfSkNCiAgICAgICAgbGV0IGxpa2VVc2VycyA9IHRoaXMuYXJ0aWNsZT8ubGlrZV91c2VycyB8fCBbXQ0KICAgICAgICBsZXQgdWlkID0gdGhpcy4kc3RvcmUuZ2V0dGVycy51c2VySW5mbz8uX2lkDQogICAgICAgIGxldCBhaWQgPSB0aGlzLmFydGljbGU/LmlkDQogICAgICAgIGlmIChsaWtlVXNlcnMuaW5jbHVkZXModWlkKSkgew0KICAgICAgICAgIHRoaXMucHVzaExpa2VzKHsgYWlkIH0pDQogICAgICAgIH0NCiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7DQogICAgICAgIE5vdGlmaWNhdGlvbi53YXJuaW5nKHsNCiAgICAgICAgICB0aXRsZTogJ+iOt+WPluWksei0pScsDQogICAgICAgICAgbWVzc2FnZTogZXJyb3IubWVzc2FnZQ0KICAgICAgICB9KQ0KICAgICAgfQ0KICAgIH0sDQogICAgLi4ubWFwQWN0aW9ucyhbJ3B1c2hMaWtlcycsICdzZW5kTGlrZXMnXSkNCiAgfSwNCn0NCg=="},{"version":3,"sources":["Article.vue"],"names":[],"mappings":";;;;;;;;;;;AAWA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Article.vue","sourceRoot":"src/views","sourcesContent":["<template>\r\n  <div>\r\n    <ArticleContent v-if=\"article.id\"\r\n                    :article=\"article\" />\r\n    <CommentTextArea :aid=\"article.id\" />\r\n    <CommentList :comments=\"article.comments\" />\r\n  </div>\r\n\r\n</template>\r\n\r\n<script>\r\nimport { Notification } from 'element-ui'\r\nimport ArticleContent from '@/components/article/ArticleContent'\r\nimport CommentTextArea from '@/components/comment/CommentTextArea'\r\nimport CommentList from '@/components/comment/CommentList'\r\nimport { createNamespacedHelpers } from 'vuex'\r\nconst { mapActions } = createNamespacedHelpers('likes')\r\nexport default {\r\n  name: '',\r\n  components: {\r\n    ArticleContent, CommentTextArea, CommentList\r\n  },\r\n  provide () {\r\n    return {\r\n      getArticleById: this.getArticleById\r\n    }\r\n  },\r\n  data () {\r\n    return {\r\n      articleId: \"\",\r\n      article: {}\r\n    }\r\n  },\r\n  computed: {\r\n\r\n  },\r\n  watch: {\r\n\r\n  },\r\n  created () {\r\n    this.articleId = this.$route.params.id\r\n    this.getArticleById()\r\n  },\r\n  methods: {\r\n    async getArticleById () {\r\n      try {\r\n        this.article = await this.$api({ type: \"getArticleById\", data: { id: this.articleId } })\r\n        let likeUsers = this.article?.like_users || []\r\n        let uid = this.$store.getters.userInfo?._id\r\n        let aid = this.article?.id\r\n        if (likeUsers.includes(uid)) {\r\n          this.pushLikes({ aid })\r\n        }\r\n      } catch (error) {\r\n        Notification.warning({\r\n          title: '获取失败',\r\n          message: error.message\r\n        })\r\n      }\r\n    },\r\n    ...mapActions(['pushLikes', 'sendLikes'])\r\n  },\r\n}\r\n</script>\r\n<style scoped>\r\n</style>"]}]}